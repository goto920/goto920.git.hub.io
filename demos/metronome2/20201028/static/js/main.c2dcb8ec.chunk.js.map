{"version":3,"sources":["bass.mp3","clave.mp3","cowbell_high.mp3","cowbell_higher.mp3","cowbell_low.mp3","cowbell_lower.mp3","cowbell_mid.mp3","crash.mp3","crashL.mp3","crashR.mp3","female_1.mp3","female_2.mp3","female_3.mp3","female_4.mp3","female_5.mp3","female_6.mp3","female_7.mp3","female_8.mp3","handClap.mp3","highConga.mp3","highTom.mp3","hihat.mp3","hihatClose.mp3","hihatFullOpen.mp3","hihatHalfOpen.mp3","lowConga.mp3","lowTom.mp3","male_1.mp3","male_2.mp3","male_3.mp3","male_4.mp3","male_5.mp3","male_6.mp3","male_7.mp3","male_8.mp3","maracas.mp3","midConga.mp3","midTom.mp3","openHihat.mp3","ride.mp3","rideCup.mp3","snare.mp3","snareBuzz.mp3","snareFlam.mp3","snareRim.mp3","snareClosedRim.mp3","snareOpenRim.mp3","tomHigh.mp3","tomMid.mp3","tomLow.mp3","buffer-loader.js","soundList.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","BufferLoader","context","urlList","callback","this","onload","bufferList","loadCount","prototype","loadBuffer","url","index","request","XMLHttpRequest","open","responseType","loader","decodeAudioData","response","buffer","length","alert","error","console","onerror","send","load","i","soundList","push","bass","clave","cowbell_high","cowbell_higher","cowbell_low","cowbell_lower","cowbell_mid","crash","crashL","crashR","female_1","female_2","female_3","female_4","female_5","female_6","female_7","female_8","handclap","highConga","highTom","hihat","hihatClose","hihatFullOpen","hihatHalfOpen","lowConga","lowTom","male_1","male_2","male_3","male_4","male_5","male_6","male_7","male_8","maracas","midConga","midTom","openHihat","ride","rideCup","snare","snareBuzz","snareFlam","snareRim","snareClosedRim","snareOpenRim","tomHigh","tomMid","tomLow","window","AudioContext","webkitAudioContext","m","clock","timerClock","gainNode","version","packageJSON","homepage","subversion","slice","jaText","messages","ja","usText","us","navigator","language","App","props","params","minBpm","maxBpm","numerator","denominator","default_clickPatternNo","default_drumPatternNo","timer","barTimer","muteCount","muteStat","muteBars","muteProb","cowbell","maleVoice","femaleVoice","currentPattern","swing","triplet","count","barCount","startTime","setLists","newListName","newSongName","loadedClickPatterns","default","loadedDrumPatterns","timerEvent","timeOutEvent","state","rest","restBars","playing","bpm","bpmFrac","metroOn","clickPatternNo","metroSound","drumsOn","drumPatternNo","voiceOn","voice","swingVal","evenVol","increment","perBars","masterVol","showMore","showAdvanced","showSetLists","showCustomLoop","showSongList","loopTable","loopTableNewRow","bar","repeat","loopStat","seq","selectedSetList","selectedSong","name","restoreSavedList","startStopDrums","bind","customPlay","handleMenu","handlePattern","handleBpm","handleTimer","handleAdvanced","handleSetLists","handleTable","playPattern","nextTick","handleWindowClose","saveSetLists","findNumByName","handleVolume","tickEvents","sound","tap","msecsFirst","msecsPrevious","savedSetLists","JSON","parse","localStorage","getItem","items","loadedSetListSample","addEventListener","createGain","inputFiles","replace","removeEventListener","saveLists","setItem","stringify","clickPatternOptions","map","e","value","key","drumPatternOptions","SwingValOptions","val","comm","IncrementOptions","setListsOptions","SetListsOptions","setListsRows","align","onChange","selectOp","SetListUI","className","border","type","checked","autoFocus","songListOptions","SongListOptions","SongListRows","width","song","table","SongListUI","Math","floor","parseFloat","AdvancedUI","prop","parseInt","swingStr","muteProb1","muteProb2","toFixed","evenNotes","min","max","step","loopTableRows","RepeatOptions","CustomLoopUI","d_a","onClick","rewind","defaultValue","color","metronome","drums","secs","bars","moreFeatures","hide","show","advanced","SetLists","SongList","Current","custom","href","target","rel","guide","event","setState","beat","clear","splice","WAAClock","start","undefined","currentTime","callbackAtTime","deadline","tolerance","early","late","match","names","split","current","unshift","values","songItems","resume","log","setTimeout","selected","clickPmin","beatInd","beatDur","barDur","relativeTime","currentBar","offset","newBpm","random","source","master","pattern","createBufferSource","note","connect","destination","gain","lastIndex","vol","timeoutEvent","showDrums","num","timeStretch","round","msecs","Date","getTime","stop","close","Component","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","fetch","headers","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"+xsHAAAA,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0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","file":"static/js/main.c2dcb8ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bass.759662e7.mp3\";","module.exports = __webpack_public_path__ + \"static/media/clave.c5049490.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_high.e876331a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_higher.58d8ae2c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_low.67ff30fa.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_lower.608432b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_mid.a218f307.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crash.b2edd9d2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crashL.3431ec55.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crashR.f6a58428.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_1.061e8364.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_2.0132e11e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_3.7fbe20d1.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_4.d5c07573.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_5.23114b75.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_6.1abf57a8.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_7.b297aa70.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_8.879b851e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/handClap.a3e60700.mp3\";","module.exports = __webpack_public_path__ + \"static/media/highConga.cc856e06.mp3\";","module.exports = __webpack_public_path__ + \"static/media/highTom.3120d26a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.9335af77.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatClose.bcece98b.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatFullOpen.5e04228e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatHalfOpen.c086d2ae.mp3\";","module.exports = __webpack_public_path__ + \"static/media/lowConga.5129e139.mp3\";","module.exports = __webpack_public_path__ + \"static/media/lowTom.9566d9cf.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_1.3de06eee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_2.0eee49b8.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_3.d55f1473.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_4.b88b2ea6.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_5.2acf0c9d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_6.945a42ee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_7.f6668c40.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_8.c39f060c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/maracas.79bbf5b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/midConga.82c31427.mp3\";","module.exports = __webpack_public_path__ + \"static/media/midTom.d737a0b0.mp3\";","module.exports = __webpack_public_path__ + \"static/media/openHihat.10b26924.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.d3d3470a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/rideCup.d2b083f3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.e4e49c88.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareBuzz.9f645de5.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareFlam.e944ca7c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareRim.d8349dcc.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareClosedRim.178c428f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareOpenRim.6ca3fbc2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomHigh.716fe783.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomMid.37b4619d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomLow.96725c6d.mp3\";","/*\nhttps://www.html5rocks.com/ja/tutorials/webaudio/intro/js/buffer-loader.js\n*/\n\nexport default function BufferLoader (context, urlList, callback) {\n  this.context = context\n  this.urlList = urlList\n  this.onload = callback\n  //  this.bufferList = new Array();\n  this.bufferList = []\n  this.loadCount = 0\n}\n\nBufferLoader.prototype.loadBuffer = function (url, index) {\n  // Load buffer asynchronously\n  var request = new XMLHttpRequest()\n  request.open('GET', url, true)\n  request.responseType = 'arraybuffer'\n\n  var loader = this\n\n  request.onload = function () {\n    // Asynchronously decode the audio file data in request.response\n    loader.context.decodeAudioData(\n      request.response,\n      function (buffer) {\n        if (!buffer) {\n          alert('error decoding file data: ' + url)\n          return\n        }\n        loader.bufferList[index] = buffer\n        if (++loader.loadCount === loader.urlList.length) { loader.onload(loader.bufferList) }\n      },\n      function (error) {\n        console.error('decodeAudioData error', error)\n      }\n    )\n  }\n\n  request.onerror = function () {\n    alert('BufferLoader: XHR error')\n  }\n\n  request.send()\n}\n\nBufferLoader.prototype.load = function () {\n  for (var i = 0; i < this.urlList.length; ++i) { this.loadBuffer(this.urlList[i], i) }\n}\n","import bass from './bass.mp3'\nimport clave from './clave.mp3'\nimport cowbell_high from './cowbell_high.mp3'\nimport cowbell_higher from './cowbell_higher.mp3'\nimport cowbell_low from './cowbell_low.mp3'\nimport cowbell_lower from './cowbell_lower.mp3'\nimport cowbell_mid from './cowbell_mid.mp3'\nimport crash from './crash.mp3'\nimport crashL from './crashL.mp3'\nimport crashR from './crashR.mp3'\nimport female_1 from './female_1.mp3'\nimport female_2 from './female_2.mp3'\nimport female_3 from './female_3.mp3'\nimport female_4 from './female_4.mp3'\nimport female_5 from './female_5.mp3'\nimport female_6 from './female_6.mp3'\nimport female_7 from './female_7.mp3'\nimport female_8 from './female_8.mp3'\nimport handclap from './handClap.mp3'\nimport highConga from './highConga.mp3'\nimport highTom from './highTom.mp3'\nimport hihat from './hihat.mp3'\nimport hihatClose from './hihatClose.mp3'\nimport hihatFullOpen from './hihatFullOpen.mp3'\nimport hihatHalfOpen from './hihatHalfOpen.mp3'\nimport lowConga from './lowConga.mp3'\nimport lowTom from './lowTom.mp3'\nimport male_1 from './male_1.mp3'\nimport male_2 from './male_2.mp3'\nimport male_3 from './male_3.mp3'\nimport male_4 from './male_4.mp3'\nimport male_5 from './male_5.mp3'\nimport male_6 from './male_6.mp3'\nimport male_7 from './male_7.mp3'\nimport male_8 from './male_8.mp3'\nimport maracas from './maracas.mp3'\nimport midConga from './midConga.mp3'\nimport midTom from './midTom.mp3'\nimport openHihat from './openHihat.mp3'\nimport ride from './ride.mp3'\nimport rideCup from './rideCup.mp3'\nimport snare from './snare.mp3'\nimport snareBuzz from './snareBuzz.mp3'\nimport snareFlam from './snareFlam.mp3'\nimport snareRim from './snareRim.mp3'\nimport snareClosedRim from './snareClosedRim.mp3'\nimport snareOpenRim from './snareOpenRim.mp3'\nimport tomHigh from './tomHigh.mp3'\nimport tomMid from './tomMid.mp3'\nimport tomLow from './tomLow.mp3'\n\n// BEGIN\nvar soundList = []\nsoundList.push(bass)\nsoundList.push(clave)\nsoundList.push(cowbell_high)\nsoundList.push(cowbell_higher)\nsoundList.push(cowbell_low)\nsoundList.push(cowbell_lower)\nsoundList.push(cowbell_mid)\nsoundList.push(crash)\nsoundList.push(crashL)\nsoundList.push(crashR)\nsoundList.push(female_1)\nsoundList.push(female_2)\nsoundList.push(female_3)\nsoundList.push(female_4)\nsoundList.push(female_5)\nsoundList.push(female_6)\nsoundList.push(female_7)\nsoundList.push(female_8)\nsoundList.push(handclap)\nsoundList.push(highConga)\nsoundList.push(highTom)\nsoundList.push(hihat)\nsoundList.push(hihatClose)\nsoundList.push(hihatFullOpen)\nsoundList.push(hihatHalfOpen)\nsoundList.push(lowConga)\nsoundList.push(lowTom)\nsoundList.push(male_1)\nsoundList.push(male_2)\nsoundList.push(male_3)\nsoundList.push(male_4)\nsoundList.push(male_5)\nsoundList.push(male_6)\nsoundList.push(male_7)\nsoundList.push(male_8)\nsoundList.push(maracas)\nsoundList.push(midConga)\nsoundList.push(midTom)\nsoundList.push(openHihat)\nsoundList.push(ride)\nsoundList.push(rideCup)\nsoundList.push(snare)\nsoundList.push(snareBuzz)\nsoundList.push(snareFlam)\nsoundList.push(snareRim)\nsoundList.push(snareClosedRim)\nsoundList.push(snareOpenRim)\nsoundList.push(tomHigh)\nsoundList.push(tomMid)\nsoundList.push(tomLow)\n// END\n\nexport default soundList\n","import React, { Component } from 'react'\nimport './Metronome.css'\nimport BufferLoader from './buffer-loader'\nimport WAAClock from 'waaclock'\nimport messages from './language.json'\nimport packageJSON from '../package.json'\nimport loadedSetListSample from './setListSample.json'\nimport loadedDrumPatterns from './drumPatterns.json'\nimport loadedClickPatterns from './clickPatterns.json'\nimport soundList from './soundList.js'\n\n// global variable\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext\nvar context = null\nvar clock = null\nvar timerClock = null\nvar gainNode = []\n\nconst version = (packageJSON.homepage + packageJSON.subversion).slice(-10)\n // defined in package.json\nconst early = 0.1\nconst late = 0.1\nconst jaText = messages.ja\nconst usText = messages.us\n\nvar m\n// alert(window.navigator.language)\nif (window.navigator.language.slice(0,2) === 'ja') m = jaText\nelse m = usText\n\nclass App extends Component {\n  constructor (props) {\n    // super(props)\n    super()\n\n    this.params = {\n      minBpm: 30.0,\n      maxBpm: 360.0,\n      numerator: null,\n      denominator: null,\n      default_clickPatternNo: null,\n      default_drumPatternNo: null,\n      timer: 0,\n      barTimer: 0,\n\n      muteCount: 0,\n      muteStat: false,\n      muteBars: 0,\n      muteProb: 0.0,\n\n      cowbell: [],\n      maleVoice: [],\n      femaleVoice: [],\n      currentPattern: {},\n      swing: false,\n      triplet: false,\n      count: 0,\n      barCount: 0,\n      startTime: 0,\n      setLists: [],\n      newListName: '',\n      newSongName: ''\n    }\n\n\n    for (let i = 0; i < loadedClickPatterns.length; i++) {\n      if (loadedClickPatterns[i].default === true) {\n        this.params.default_clickPatternNo = i\n        break\n      }\n    }\n\n    this.params.currentPattern =\n      loadedClickPatterns[this.params.default_clickPatternNo]\n\n    for (let i = 0; i < loadedDrumPatterns.length; i++) {\n      if (loadedDrumPatterns[i].default === true) {\n        this.params.default_drumPatternNo = i\n        break\n      }\n    }\n\n    this.timerEvent = 0\n    this.timeOutEvent = 0\n\n    this.state = {\n      ja: (m === jaText),\n      rest: 0,\n      restBars: 0,\n      playing: false,\n\n      bpm: 100,\n      bpmFrac: 0.0,\n      metroOn: true,\n      clickPatternNo: this.params.default_clickPatternNo, // default 4/4\n      metroSound: '3cb2',\n      drumsOn: false,\n      drumPatternNo: this.params.default_drumPatternNo,\n      voiceOn: false,\n      voice: 'female',\n      swingVal: 1.5,\n      evenVol: 1.0,\n      increment: 0,\n      perBars: 0,\n      masterVol: 75,\n\n      showMore: false,\n      showAdvanced: false,\n      showSetLists: false,\n      showCustomLoop: false,\n      showSongList: false,\n      // for custom loop\n      loopTable: [],\n      loopTableNewRow: {\n        bar: loadedClickPatterns[this.params.default_clickPatternNo],\n        swingVal: 1.5,\n        repeat: 4},\n      loopStat: {playing: false, seq: 0, repeat: 0, bar: 0},\n\n      selectedSetList: {},\n      selectedSong: {name: 'none'} // default\n    } // end state\n\n    this.restoreSavedList()\n    this.state.selectedSetList = this.params.setLists[0]\n\n//    this.setState = this.setState.bind(this)\n    this.startStopDrums = this.startStopDrums.bind(this)\n    this.customPlay = this.customPlay.bind(this)\n    this.handleMenu = this.handleMenu.bind(this)\n    this.handlePattern = this.handlePattern.bind(this)\n    this.handleBpm = this.handleBpm.bind(this)\n    this.handleTimer = this.handleTimer.bind(this)\n    this.handleAdvanced = this.handleAdvanced.bind(this)\n    this.handleSetLists = this.handleSetLists.bind(this)\n    this.handleTable = this.handleTable.bind(this)\n    this.playPattern = this.playPattern.bind(this)\n    this.nextTick = this.nextTick.bind(this)\n    this.handleWindowClose = this.handleWindowClose.bind(this)\n    this.saveSetLists = this.saveSetLists.bind(this)\n    this.findNumByName = this.findNumByName.bind(this)\n    this.handleVolume = this.handleVolume.bind(this)\n\n    this.tickEvents = []\n    this.sound = {}\n\n/* Example is in sampleTable.json */\n\n    this.tap = {\n      count: 0,\n      msecsFirst: 0,\n      msecsPrevious: 0\n    }\n  } // end constructor\n\n//  componentWillMount () { // before render()\n  restoreSavedList () { // in constructor\n    const savedSetLists = JSON.parse(localStorage.getItem('savedSetLists'))\n    if (savedSetLists === null) {\n      this.params.setLists.push(\n        {name: 'default', items: []}, loadedSetListSample)\n    } else {\n      for (let i = 0; i < savedSetLists.length; i++) {\n        this.params.setLists.push(savedSetLists[i])\n      }\n      this.params.setLists.push(loadedSetListSample)\n    }\n    // this.setState({selectedSetList: this.params.setLists[0]})\n    // this.state.selectedSetList = this.params.setLists[0]\n  }\n\n  componentDidMount () {\n    window.addEventListener('beforeunload', this.handleWindowClose)\n    context = new window.AudioContext()\n\n    for (let i = 0; i < 10; i++) { gainNode[i] = context.createGain() }\n\n    let inputFiles = []\n    for (let i = 0; i < soundList.length; i++) {\n      // inputFiles[i] = soundList[i] + '.mp3'\n      inputFiles[i] = soundList[i]\n      soundList[i] = soundList[i].replace(/\\/.*\\/(.*)\\..*\\.mp3/, '$1')\n      // console.log(soundList[i])\n    }\n\n    let bufferLoader = new BufferLoader(\n      context, inputFiles,\n      function (bufferList) {\n        for (let i = 0; i < soundList.length; i++) { this.sound[soundList[i]] = bufferList[i] }\n      }.bind(this)\n    )\n\n    bufferLoader.load()\n\n    // clock = new WAAClock(context)\n    // timerClock = clock\n    // clock.start()\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('beforeunload', this.handleWindowClose)\n  }\n\n  saveSetLists () {\n    if (this.params.setLists.length > 0) {\n      let saveLists = []\n      for (let i = 0; i < this.params.setLists.length; i++) {\n        if (this.params.setLists[i].name !== 'sample')\n          saveLists.push(this.params.setLists[i])\n      }\n      // console.log('save ' + saveLists.length + ' items')\n      if (saveLists.length > 0) {\n        localStorage.setItem('savedSetLists', JSON.stringify(saveLists))\n      }\n    }\n  }\n\n  render () {\n    const {ja, loopTable, loopTableNewRow, loopStat,\n      metroOn, clickPatternNo, metroSound, drumsOn, drumPatternNo,\n      voiceOn, voice, playing, bpm, bpmFrac,\n      increment, perBars, muteBars, muteProb,\n      rest, restBars, swingVal, evenVol, showMore,\n      showAdvanced, showSetLists, showSongList,\n      showCustomLoop, selectedSetList, selectedSong} = this.state\n\n    const {minBpm, maxBpm, setLists} = this.params\n\n    const {startStopDrums, customPlay,\n           handleMenu, handlePattern, handleBpm, handleTimer,\n           handleAdvanced, handleTable, handleSetLists} = this\n\n    const clickPatternOptions = loadedClickPatterns.map((e, index) => {\n      return (<option value={index} key={index}>\n        {('0' + index).slice(-2)}: {e.name}</option>)\n    })\n\n    const drumPatternOptions = loadedDrumPatterns.map((e, index) => {\n      return (<option value={index} key={index}>\n        {('00' + index).slice(-3)}: {e.name}</option>)\n    })\n\n/* Set swing value select options */\n    const swingValOptions = [\n      {val: 5}, {val: 6}, {val: 7}, {val: 8}, {val: 9}, {val: 10},\n      {val: 15, comm: '(Str)'},\n      {val: 16}, {val: 17}, {val: 18, comm: '(Lt)'},\n      {val: 19}, {val: 20, comm: '(Swg)'},\n      {val: 21}, {val: 22, comm: '(Hvy)'},\n      {val: 23}, {val: 24}, {val: 25}\n    ]\n    const SwingValOptions = swingValOptions.map(function (e, index) {\n      return (<option key={index} value={e.val}>{e.val / 10}{e.comm}</option>)\n    })\n    /* increment options */\n    const incrementOptions = [\n      -10, -9, -8, -7, -6, -5, -4, -3, -2, -1,\n      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\n    ]\n    const IncrementOptions = incrementOptions.map(function (e, index) {\n      return (<option key={index} value={e}>{e}</option>)\n    })\n\n    /* SetList UI (conditionally shown) */\n    let setListsOptions = []\n    for (let i = 0; i < setLists.length; i++) { setListsOptions.push(i) }\n\n    const SetListsOptions = setListsOptions.map(function (e, index) {\n      return (\n        <option key={index} value={'move:' + e}>\n         move after {('00' + e).slice(-2)}</option>)\n    })\n\n    const setListsRows = setLists.map(function (e, index) {\n      return (<tr key={'tr:' + index}>\n        <td align='right'>\n          <select name={'selectList:' + index} onChange={handleSetLists}>\n            <option key='none' value='none'>({m.selectOp})</option>\n            <option key='select' value='select'>select this</option>\n            <option key='top' value='top'>move to top</option>\n            {SetListsOptions}\n            <option key='delete' value='delete'>delete this</option>\n          </select></td>\n        <td align='right'>{('00' + index).slice(-2)}</td>\n        <td align='left'>{e.name}</td>\n      </tr>)\n    })\n\n    function SetListUI (props) {\n      return (<div className='table'>\n        <table border='3'>\n          <tbody>\n            <tr><th>sel/mov/del</th><th>seq</th><th>list name</th></tr>\n            {setListsRows}\n            <tr>\n              <td align='right' className='radioButton'>add\n          <input name='addList' type='radio'\n            checked={false} onChange={handleSetLists} /></td>\n              <td align='right'>new</td>\n              <td align='left'>\n                <span className='text'>\n                  <input type='text' name='newList'\n                    autoFocus={false} onChange={handleSetLists} />\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>)\n    }\n\n    /* songList */\n    let songListOptions = []\n\n    for (let i = 0; i < selectedSetList.items.length; i++) { songListOptions.push(i) }\n\n    const SongListOptions = songListOptions.map(function (e, index) {\n      return (\n        <option key={index} value={'move:' + e}>\n          move after {('00' + e).slice(-2)}</option>)\n    })\n\n    const SongListRows = selectedSetList.items.map(function (e, index) {\n      return (<tr key={'tr:' + index}>\n        <td align='right'>\n          <select name={'selectSong:' + index} onChange={handleSetLists}>\n            <option key='none' value='none'>({m.selectOp})</option>\n            <option key='select' value='select'>select this</option>\n            <option key='top' value='top'>move to top</option>\n            {SongListOptions}\n            <option key='delete' value='delete'>delete this</option>\n          </select></td>\n        <td align='right'>{('00' + index).slice(-2)}</td>\n        <td align='left' width='150'>{e.song}</td>\n        <td align='right'>{e.bpm}</td>\n        <td align='right'>{e.table ? 'loop' : 'bar' }</td>\n      </tr>)\n    })\n\n    function SongListUI (props) {\n      return (<div className='table'>\n        <table border='3'>\n          <tbody>\n            <tr><th>sel/mov/del</th><th>seq</th>\n              <th>song name</th><th>bpm</th>\n              <th>type</th></tr>\n            {SongListRows}\n            <tr>\n              <td align='center' className='radioButton'>add current<br />\n         bar<input name='addSong'\n           type='radio' checked={false} value='bar'\n           onChange={handleSetLists} /><br />\n         or loop<input name='addSong' type='radio' value='loop'\n           checked={false} onChange={handleSetLists} />\n              </td>\n              <td align='right'>new</td>\n              <td align='left' className='text'><input name='newSong'\n                type='text' onChange={handleSetLists} /></td>\n              <td align='right'>{Math.floor(bpm) + parseFloat(0.1 * bpmFrac, 10)}</td>\n              <td>(choose)</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>)\n    }\n\n    function AdvancedUI (prop) {\n      return (<span>\n        {m.swing}: &nbsp;\n        <span className='selector'>\n          <select name='swing' value={parseInt(swingVal * 10, 10)}\n            onChange={handleAdvanced}>{SwingValOptions}</select>\n        </span>\n        {m.swingStr}\n        <br />\n        <span className='selector'>\n          {m.increment}: &nbsp;\n       <select name='increment' value={increment}\n         onChange={handleAdvanced}>{IncrementOptions}\n       </select> bpm\n       </span>\n         /\n        <span className='selector'>\n          <select name='perBars' value={perBars} onChange={handleAdvanced}>\n            <option value='0'>off</option> <option value='1'>1</option>\n            <option value='2'>2</option> <option value='4'>4</option>\n            <option value='8'>8</option> <option value='12'>12</option>\n            <option value='16'>16</option>\n          </select>\n          {m.perBars}</span><br />\n        <span className='selector'>\n          {m.muteBars}: &nbsp;\n         <select name='muteBars' value={muteBars} onChange={handleAdvanced}>\n           <option value='0'>off</option> <option value='1'>1</option>\n           <option value='2'>2</option> <option value='4'>4</option>\n           <option value='8'>8</option> <option value='12'>12</option>\n           <option value='16'>16</option>\n         </select>\n        </span>\n        {m.muteProb1}, {m.muteProb2}\n        <span className='selector'>\n          <select name='muteProb' value={parseFloat(muteProb, 10).toFixed(1)} onChange={handleAdvanced}>\n            <option value='0.0'>0.0</option> <option value='0.1'>0.1</option>\n            <option value='0.2'>0.2</option> <option value='0.3'>0.3</option>\n            <option value='0.4'>0.4</option> <option value='0.5'>0.5</option>\n            <option value='0.6'>0.6</option> <option value='0.7'>0.7</option>\n            <option value='0.8'>0.8</option> <option value='0.9'>0.9</option>\n            <option value='1.0'>1.0</option>\n          </select>\n        </span>\n        <br />\n        <span className='slider'>\n          {m.evenNotes}: {evenVol.toFixed(2)} <input type='range' name='evenVol'\n            min='0.0' max='1.0' value={evenVol} step='0.01'\n            onChange={handleAdvanced} />\n        </span>\n      </span>)\n    } // end AdvancedUI\n\n/*\n    function DrumsUI(props){\n      return(<span>Not implemented yet</span>)\n    }\n*/\n\n /* Custom Loop UI (conditinally shown) */\n    const loopTableRows = loopTable.map(function (e, index) {\n      return (<tr key={index}>\n        <td align='right' className='radioButton'>\n          d<input type='radio' name='loopDel' value={index}\n            checked={false} onChange={handleTable} /></td>\n        <td align='right'>{index}</td>\n        <td align='right'>{e.bar.name}</td>\n        <td align='right'>{e.repeat}</td>\n      </tr>)\n    })\n\n    const repeatOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n    const RepeatOptions = repeatOptions.map(function (e, index) {\n      return (<option key={index} value={e}>{e}</option>)\n    })\n\n    function CustomLoopUI (props) {\n      return (<div>\n      --- seq/rep/bar: {('00' + loopStat.seq).slice(-2)}\n               /{('00' + loopStat.repeat).slice(-2)}\n               /{('00' + loopStat.bar).slice(-3)}\n        <br />\n        <b>{m.d_a}</b>&nbsp;\n        <span>\n          <button name='startLoop' onClick={customPlay}>\n            {loopStat.playing ? 'Stop' : 'Start'}</button></span>\n        / <span className='loopButton'>\n          <button name='rewindLoop' onClick={customPlay}>\n            {m.rewind}</button>\n        </span>\n        <br />\n        <div className='table'>\n          <table border='3'>\n            <tbody>\n              <tr><th>d/a</th><th>seq</th>\n                <th>pattern</th><th>repeat</th></tr>\n              {loopTableRows}\n              <tr><td align='right' className='radioButton'>\n      metro\n      <input type='radio' name='loopAdd' value='click' checked={false}\n        onChange={handleTable} />\n                <br />\n      drum\n      <input type='radio' name='loopAdd' value='drum' checked={false}\n        onChange={handleTable} />\n              </td>\n                <td align='right'>add</td>\n                <td align='right' className='selector'>\n                  <select name='loopAddClickPattern' value={clickPatternNo}\n                    onChange={handleTable}>\n                    {clickPatternOptions}</select><br />\n                  <select name='loopAddDrumPattern' value={drumPatternNo}\n                    onChange={handleTable}>\n                    {drumPatternOptions}</select><br />\n                </td>\n                <td align='right' className='selector'><span>\n                  <select name='loopRepeat'\n                    defaultValue={loopTableNewRow.repeat}\n                    onChange={handleTable}>{RepeatOptions}</select>\n                </span></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>)\n    }\n\n/// //////////// UI menus\n    return (\n      <div className='metronome'>\n      KG's Metronome2 &nbsp; <font color='blue'>Lang: </font>\n        <span className='small-button'>\n          <button name='language' onClick={handleMenu}>\n            {ja ? 'US' : 'JP'}</button>&nbsp;\n        </span>\n        Play: <button name='startStop' onClick={startStopDrums}>\n          {playing ? 'Stop' : 'Start'}</button>\n        <hr />\n        <span className='selector'>\n          <input name='metroOn' type='checkbox'\n            checked={metroOn} onChange={handlePattern} />\n          {m.metronome}: <select name='clickPattern' value={clickPatternNo}\n            onChange={handlePattern}>\n            {clickPatternOptions}\n          </select>\n        </span> &nbsp;\n        {m.sound}:&nbsp;\n        <span className='selector'>\n          <select name='metroSound' value={metroSound} onChange={handlePattern}>\n            <option value='cb1'>cowbell1</option>\n            <option value='cb2'>cowbell2</option>\n            <option value='cb3'>cowbell3</option>\n            <option value='cb4'>cowbell4</option>\n            <option value='cb5'>cowbell5</option>\n            <option value='2cb1'>2cowbell1</option>\n            <option value='2cb2'>2cowbell2</option>\n            <option value='2cb3'>2cowbell3</option>\n            <option value='2cb4'>2cowbell4</option>\n            <option value='3cb1'>3cowbell1</option>\n            <option value='3cb2'>3cowbell2</option>\n            <option value='3cb3'>3cowbell3</option>\n            <option value='1cg1'>1conga1</option>\n            <option value='1cg2'>1conga2</option>\n            <option value='1cg3'>1conga3</option>\n            <option value='2cg1'>2conga1</option>\n            <option value='2cg2'>2conga2</option>\n            <option value='3cg'>3conga</option>\n            <option value='cv'>clave</option>\n            <option value='hc'>handClap</option>\n          </select>\n        </span>\n        <br />\n        <span className='selector'>\n          <input type='checkbox' name='drumsOn' checked={drumsOn}\n            onChange={handlePattern} />\n          {m.drums}: <select name='drumPattern' value={drumPatternNo}\n            onChange={handlePattern}>\n            {drumPatternOptions}\n          </select>\n        </span>&nbsp; <br />\n        <input type='checkbox' name='voiceOn'\n          checked={voiceOn} onChange={handlePattern} />\n        {m.voice}: <select name='voice' value={voice} onChange={handlePattern}>\n          <option value='male' >male</option>\n          <option value='female'>female</option>\n        </select>\n        <hr />\n        <span className='number'>\n        BPM({minBpm}-{maxBpm}): &nbsp; {('0' + Math.floor(bpm)).slice(-3)}.\n        <span className='selector'>\n          <select name='bpmFrac' value={bpmFrac}\n            onChange={handleBpm}>\n            <option value='0'>0</option> <option value='1'>1</option>\n            <option value='2'>2</option> <option value='3'>3</option>\n            <option value='4'>4</option> <option value='5'>5</option>\n            <option value='6'>6</option> <option value='7'>7</option>\n            <option value='8'>8</option> <option value='9'>9</option>\n          </select></span>\n        &nbsp; &nbsp; &nbsp; &nbsp;\n        </span>\n        <span className='small-button'>\n          <button name='tempo_tap' onClick={handleBpm}>\n            {m.tap}</button></span>&nbsp;\n        <br />\n        <span className='tinyButton'>\n          <button name='bpmStep'\n            value='-1' onClick={handleBpm}>-</button></span>\n        <span className='bpm-slider'>\n          <input type='range' name='bpm_slider'\n            min={minBpm} max={maxBpm} value={bpm} step='1.0'\n            onChange={handleBpm} />\n        </span>\n        <span className='tinyButton'>\n          <button name='bpmStep'\n            value='1' onClick={handleBpm}>+</button></span>\n        <hr />\n        {m.timer}: &nbsp;\n     <span className='selector'>\n       {('00' + rest).slice(-3)}/\n     <select name='timer' defaultValue='0' onChange={handleTimer}>\n       <option value='0'>off</option> <option value='30'>30</option>\n       <option value='60'>60</option> <option value='90'>90</option>\n       <option value='120'>120</option> <option value='180'>180</option>\n       <option value='240'>240</option> <option value='300'>300</option>\n       <option value='600'>600</option> </select>({m.secs}),&nbsp;\n     </span>\n        <span className='selector'>\n          {('00' + restBars).slice(-3)}/\n  <select name='barTimer' defaultValue='0' onChange={handleTimer}>\n    <option value='0'>off</option> <option value='12'>12</option>\n    <option value='16'>16</option> <option value='24'>24</option>\n    <option value='32'>32</option> <option value='64'>64</option>\n    <option value='128'>128</option> <option value='256'>256</option>\n  </select> ({m.bars})</span><hr />\n        <span className='bpm-slider'>\n          Vol: {this.state.masterVol}<br />\n            0 <input type='range' name='volumeSlider'\n            min='0' max='150' value={this.state.masterVol} step='1'\n            onChange={this.handleVolume} /> 150\n        </span>\n        <hr />\n\n        {m.moreFeatures}: <span className='loopButton'>\n          <button name='showMore' onClick={handleMenu}>\n            {showMore ? m.hide : m.show} {/* no {} for m.hide,show */}\n          </button></span>\n\n        {showMore ? (<span><hr />\n          {m.advanced}: <span className='loopButton'>\n            <button name='advancedUI' onClick={handleMenu}>\n              {showAdvanced ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span><br />\n          {showAdvanced ? (<span><AdvancedUI /></span>) : ''}\n          <hr /><span className='loopButton'>\n            {m.SetLists}: <button name='setListsUI' onClick={handleMenu}>\n              {showSetLists ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span>&nbsp;\n          <span className='loopButton'>\n            {m.SongList}: <button name='songListUI' onClick={handleMenu}>\n              {showSongList ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button>\n          </span><br />\n          {m.Current}: <b>(List) {selectedSetList.name} :\n        (Song) {selectedSong.song} :\n        (ptn) {selectedSong.bar\n               ? selectedSong.bar.name : 'loop'} :\n        (bpm) {selectedSong.bpm}</b><br />\n          {showSetLists ? <SetListUI /> : ''}\n          {showSongList ? <SongListUI /> : ''}\n          <hr />\n          <span className='loopButton'>\n            {m.custom}: <button name='customLoopUI' onClick={handleMenu}>\n              {showCustomLoop ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span>\n          <br />{showCustomLoop ? <CustomLoopUI /> : ''}\n\n        </span>) : ''}\n\n        <hr />\n      (Version: {version}) <a href={m.url} target='_blank' rel='noopener noreferrer'>{m.guide}</a><br />\n        <hr />\n      </div>\n    )\n  } // end render()\n\n  customPlay (event) {\n    const {loopTable} = this.state\n    let {loopStat} = this.state\n    if (loopTable.length <= 0) return\n\n    if (event.target.name === 'startLoop') {\n      this.startStopDrums({target: {name: 'stop'}}) // stop the metronome\n      if (loopStat.playing) {\n        this.customPlay({target: {name: 'stop'}})\n      } else {\n        loopStat.seq = 0\n        loopStat.bar = 0\n        loopStat.repeat = 1\n        this.setState({loopStat: loopStat})\n        this.customPlay({target: {name: 'start'}})\n        loopStat.playing = true\n      }\n      this.setState({loopStat: loopStat})\n\n      return\n    }\n\n    if (event.target.name === 'rewindLoop') {\n      this.customPlay({target: {name: 'stop'}})\n      loopStat.seq = 0\n      loopStat.repeat = 0\n      loopStat.bar = 0\n      this.setState({loopStat: loopStat})\n      return\n    }\n\n    if (event.target.name === 'stop') {\n      for (let beat = 0; beat < this.tickEvents.length; beat++) { this.tickEvents[beat].clear() }\n      this.tickEvents.splice(0, this.tickEvents.length)\n      loopStat.playing = false\n      this.setState({loopStat: loopStat})\n      return\n    }\n\n    if (event.target.name === 'start') {\n     if (clock === null) {\n       clock = new WAAClock(context)\n       timerClock = clock\n       clock.start()\n     }\n      this.customPlay({target: {name: 'nextBar'}})\n      return\n    }\n\n    if (event.target.name === 'nextBar') {\n      if (loopStat.bar === 0 ||\n         loopStat.repeat === loopTable[loopStat.seq].repeat) { // next seq\n        if (loopStat.bar > 0) loopStat.seq++\n        if (loopStat.seq === loopTable.length) loopStat.seq = 0\n\n        loopStat.repeat = 1\n        let {bar} = loopTable[loopStat.seq]\n        this.params.currentPattern = bar\n        this.params.numerator = bar.numerator\n        this.params.denominator = bar.denominator\n        this.params.triplet = bar.triplet\n        if (bar.swingVal !== undefined) {\n          this.setState({swingVal: bar.swingVal})\n          this.params.swing = true\n        } else {\n          this.setState({swingVal: 1.5})\n          this.params.swing = false\n        }\n      } else loopStat.repeat++\n\n      if (loopStat.bar === 0) { this.params.startTime = context.currentTime } else { this.params.startTime = this.params.nextTick }\n\n      this.params.count = 0\n      for (let beat = 0; beat < this.params.numerator; beat++) {\n        event = clock.callbackAtTime(\n          function (event) {\n            this.playPattern(event.deadline)\n          }.bind(this),\n          this.nextTick(beat)\n        ).tolerance({early: early, late: late})\n        this.tickEvents[beat] = event\n      } // end for\n\n      loopStat.bar++\n      this.setState({loopStat: loopStat})\n      this.params.nextTick = this.nextTick(this.params.numerator) // next\n    } // end nextBar\n\n  } // end customPlay\n\n  handleTable (event) {\n    const {loopTable, loopTableNewRow} = this.state\n//    let {loopTableNewRow} = this.state\n\n    if (event.target.name === 'setLoopTable') {\n      this.setState({loopTable: event.target.value})\n      return\n    }\n\n    if (event.target.name === 'loopDel') {\n      loopTable.splice(event.target.value, 1)\n      this.setState({loopTable: loopTable})\n      return\n    }\n\n    if (event.target.name === 'loopAdd') {\n      if (event.target.value === 'drum') {\n        loopTableNewRow.bar =\n          loadedDrumPatterns[this.state.drumPatternNo]\n      } else if (event.target.value === 'click') {\n        loopTableNewRow.bar =\n          loadedClickPatterns[this.state.clickPatternNo]\n      }\n\n      loopTable.push({bar: loopTableNewRow.bar,\n        repeat: loopTableNewRow.repeat})\n      this.setState({loopTable: loopTable})\n      return\n    }\n\n    if (event.target.name === 'loopAddClickPattern') {\n      let clickPatternNo = parseInt(event.target.value, 10)\n      this.setState({clickPatternNo: clickPatternNo})\n      return\n    }\n\n    if (event.target.name === 'loopAddDrumPattern') {\n      let drumPatternNo = parseInt(event.target.value, 10)\n      this.setState({drumPatternNo: drumPatternNo})\n      return\n    }\n\n    if (event.target.name === 'loopRepeat') {\n      loopTableNewRow.repeat = parseInt(event.target.value, 10)\n      this.setState({loopTableNewRow: loopTableNewRow})\n    }\n  } // end handleTable\n\n  handleSetLists (event) {\n/*\n   (ref) https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n*/\n    /* handle setLists */\n    if (event.target.name.match(/^selectList:/)) {\n      let names = event.target.name.split(':')\n      if (event.target.value === 'select') {\n//        console.log('setLists.length:' + this.params.setLists.length)\n//        console.log(parseInt(names[1],10) + ' selected')\n        this.params.selectedSetList =\n         this.params.setLists[parseInt(names[1], 10)]\n        this.setState({\n          selectedSetList: this.params.setLists[parseInt(names[1], 10)],\n          selectedSong: {song: 'none'},\n          showSetLists: false,\n          showSongList: true})\n        return\n      }\n\n      if (event.target.value === 'top') {\n        // console.log(names[1] + ' move to top')\n        let current = this.params.setLists[parseInt(names[1], 10)]\n        this.params.setLists.splice(parseInt(names[1], 10), 1)\n        this.params.setLists.unshift(current)\n        this.setState({showSetLists: true})\n        return\n      }\n\n      if (event.target.value.match(/^move/)) {\n        let values = event.target.value.split(':')\n        let current = this.params.setLists[parseInt(names[1], 10)]\n        // console.log(names[1] + ' move after ' + values[1])\n        this.params.setLists.splice(parseInt(values[1], 10) + 1, 0, current)\n        if (parseInt(values[1], 10) < parseInt(names[1], 10)) { this.params.setLists.splice(parseInt(names[1], 10) + 1, 1) } else if (parseInt(values[1], 10) > parseInt(names[1], 10)) { this.params.setLists.splice(parseInt(names[1], 10), 1) } else {}// console.log('no effect')\n\n        this.saveSetLists()\n        this.setState({showSetLists: true})\n        return\n      }\n\n      if (event.target.value === 'delete') {\n        // console.log(names[1] + ' delete')\n        this.params.setLists.splice(names[1], 1)\n        this.saveSetLists()\n        this.setState({showSetLists: true})\n        return\n      }\n    }\n\n    if (event.target.name === 'addList') {\n      this.params.setLists.push({name: this.params.newListName, items: []})\n      this.saveSetLists()\n      this.setState({showSetLists: true})\n      return\n    }\n\n    if (event.target.name === 'newList') {\n      this.params.newListName = event.target.value\n      return\n    }\n\n    /* handle songs */\n    const songItems = this.state.selectedSetList.items\n\n    if (event.target.name.match(/^selectSong:/)) {\n      let names = event.target.name.split(':')\n\n      if (event.target.value === 'select') {\n        // console.log(names[1] + ' selected')\n        let song = songItems[parseInt(names[1], 10)]\n        this.setState({selectedSong: song, showSongList: false})\n        // this.setState({selectedSong: song})\n\n        if (song.bar !== undefined) { // HERE\n          this.handlePattern({target: {name: 'setBar', value: song.bar}})\n          this.handleBpm({target: {name: 'bpm_set',\n            value: parseFloat(song.bpm, 10)}})\n          return\n        }  // end bar pattern\n\n        if (song.table !== undefined) {\n          this.state.loopTable.splice(0, this.state.loopTable.length) // clear\n          this.handleBpm(\n            {target: {name: 'bpm_set',\n              value: parseFloat(song.bpm, 10)}}\n          )\n          this.handleTable({target: {name: 'setLoopTable', value: song.table}})\n          this.setState({showCustomLoop: true})\n          return\n        } // end if song.type === 'loop'\n      } // end if 'select'\n\n      if (event.target.value === 'top') {\n        let current = songItems[parseInt(names[1], 10)]\n        songItems.splice(parseInt(names[1], 10), 1)\n        songItems.unshift(current)\n        // console.log(names[1] + ' move to top')\n        this.setState({showSongList: true})\n        return\n      } // end top\n\n      if (event.target.value.match(/^move/)) {\n        let values = event.target.value.split(':')\n        let current = songItems[parseInt(names[1], 10)]\n        songItems.splice(parseInt(values[1], 10) + 1, 0, current)\n        if (parseInt(values[1], 10) < parseInt(names[1], 10)) { songItems.splice(parseInt(names[1], 10) + 1, 1) } else if (parseInt(values[1], 10) > parseInt(names[1], 10)) { songItems.splice(parseInt(names[1], 10), 1) } else {} // console.log('no effect')\n        this.setState({showSongList: true})\n        return\n      } // end move\n\n      if (event.target.value === 'delete') {\n        // console.log(names[1] + ' delete')\n        songItems.splice(parseInt(names[1], 10), 1)\n        this.saveSetLists()\n        this.setState({showSongList: true})\n        return\n      }\n    }\n\n    if (event.target.name === 'addSong') {\n      if (event.target.value === 'bar') {\n        // console.log('addSong preset')\n        this.state.selectedSetList.items.push({\n          song: this.params.newSongName,\n          bar: this.params.currentPattern,\n          bpm: parseFloat(this.state.bpm, 10).toFixed(1)})\n      }\n\n      if (event.target.value === 'loop') {\n        // console.log('addSong loop')\n        if (this.state.loopTable.length > 0) {\n          this.state.selectedSetList.items.push({\n            song: this.params.newSongName,\n            table: this.state.loopTable,\n            bpm: parseFloat(this.state.bpm, 10).toFixed(1)})\n        } else {} // console.log('addSong loop is empty')\n      } // end addSong\n\n      this.saveSetLists()\n      this.setState({showSongList: true})\n      return\n    }\n\n    if (event.target.name === 'newSong') {\n      this.params.newSongName = event.target.value\n    }\n  } // end handleSetLists\n\n  startStopDrums (event) {\n    if (context.state === 'suspended') context.resume()\n/*\n// Unlock iOS \n     let buffer = context.createBuffer(1,1,22050); \n     let source = context.createBufferSource();\n     source.buffer = buffer;\n     source.connect (context.destination);\n     source.start();\n// End unlock\n*/\n    if (event.target.name === 'startStop') {\n\n      if (this.state.loopStat.playing) {\n        this.customPlay({target: {name: 'stop'}})\n      }\n\n      if (this.state.playing) {\n        this.startStopDrums({target: {name: 'stop'}})\n      } else {\n        this.startStopDrums({target: {name: 'start'}})\n      }\n      this.setState({playing: !this.state.playing})\n    }\n\n/* actual process */\n    if (event.target.name === 'stop') {\n      for (let beat = 0; beat < this.tickEvents.length; beat++) { this.tickEvents[beat].clear() }\n      this.tickEvents.splice(0, this.tickEvents.length)\n      this.handleTimer({target: {name: 'clearTimer'}})\n      return\n    }\n\n    if (event.target.name === 'start') {\n      if (clock === null){\n       clock = new WAAClock(context)\n       timerClock = clock\n       clock.start()\n      }\n      const selected = this.params.currentPattern\n      this.params.numerator = selected.numerator\n      this.params.denominator = selected.denominator\n\n      let clickPmin = this.state.bpm * (this.params.denominator / 4)\n\n      this.params.count = 0\n      this.params.startTime = context.currentTime\n      for (let beat = 0; beat < this.params.numerator; beat++) {\n        event = clock.callbackAtTime(\n           function (event) {\n             this.playPattern(event.deadline)\n           }.bind(this),\n          this.nextTick(beat)\n        ).repeat((this.params.numerator * 60.0) / clickPmin)\n         .tolerance({early: early, late: late}) // tight early tolerance\n        this.tickEvents[beat] = event\n      } // end for\n\n      this.handleTimer({target: {name: 'startTimer'}})\n      return\n    } // end start\n\n    if (event.target.name === 'restart' && this.state.playing) {\n      console.log('restart')\n      this.startStopDrums({target: {name: 'stop'}})\n      clock.setTimeout(function (event) {\n        this.startStopDrums({target: {name: 'start'}})\n      }.bind(this), 0.02)\n       .tolerance({early: early, late: late}) // tight early tolerance\n    } // end restart\n  } // end startStopDrums()\n\n// https://github.com/sebpiq/WAAClock/blob/master/demos/beatSequence.js\n  nextTick (beatInd) {\n    const beatDur = 60.0 / (this.state.bpm * this.params.denominator / 4)\n    const barDur = beatDur * this.params.numerator\n\n    const currentTime = context.currentTime\n    const relativeTime = Math.max(0, currentTime - this.params.startTime)\n    var currentBar = Math.floor(relativeTime / barDur)\n\n    let offset = 0\n    if (this.params.swing && (beatInd % 2) === 1) {\n      offset = (this.state.swingVal - 1.5) / 1.5 * beatDur\n    }\n\n    return this.params.startTime + offset +\n           currentBar * barDur + beatInd * beatDur\n  }\n\n  playPattern (deadline) {\n    const sound = this.sound\n    const {bpm, restBars, metroSound, voiceOn, voice, increment,\n           perBars, muteBars, muteProb, evenVol} = this.state\n    const {maxBpm, minBpm, barTimer, currentPattern, numerator,\n           triplet} = this.params\n    let {muteCount, muteStat, count, barCount} = this.params\n\n    // bar timer\n    if (barTimer > 0 && restBars <= 0) {\n      this.startStopDrums({target: {name: 'stop'}})\n      this.setState({playing: false, restBars: barTimer})\n      return\n    }\n\n    // automatic bpm increment\n    if ((perBars > 0) && (count === 0) && (barCount > 0) &&\n        (barCount % perBars) === 0) {\n      let newBpm = parseFloat(bpm) + parseFloat(increment)\n      if (newBpm > maxBpm) newBpm = maxBpm\n      if (newBpm < minBpm) newBpm = minBpm\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n    } // end automatic bpm increment\n\n// random mute\n    if (muteBars > 0 && muteProb > 0 && count === 0) {\n      if (muteCount === muteBars) {\n        muteStat = false\n        muteCount = 0\n      } else {\n        if (muteStat) {\n          muteCount++\n        } else if (Math.random() < parseFloat(muteProb)) {\n          muteStat = true\n          muteCount++\n        }\n      }\n    } // end random mute\n\n    let source = []\n    let master = this.state.masterVol/100;\n\n    if (triplet) {\n      if (count % 3 !== 2) master = this.state.masterVol/100 * evenVol\n    } else {\n      if (count % 2 === 0) master = this.state.masterVol/100 * evenVol\n    }\n\n    if (currentPattern.type === 'drumkit') { // last note is always voice\n      for (let i = 0; i < currentPattern.pattern.length - 1; i++) {\n        const current = currentPattern.pattern[i]\n        if (current.values[count] === 0) continue\n\n        source[i] = context.createBufferSource()\n        source[i].buffer = sound[current.note]\n        source[i].connect(gainNode[i])\n        gainNode[i].connect(context.destination)\n        gainNode[i].gain.value =\n          master * parseInt(current.values[count], 10) / 9.0\n        source[i].start(deadline)\n      }\n    } // end drumkit\n\n    const lastIndex = currentPattern.pattern.length - 1\n\n    /* voice */\n    const current = currentPattern.pattern[lastIndex]\n    if (voiceOn && (current.note === 'voice') && (current.values[count] > 0)) {\n      source[lastIndex] = context.createBufferSource()\n      source[lastIndex].buffer = sound[voice + '_' + current.values[count]]\n      source[lastIndex].connect(gainNode[lastIndex])\n      gainNode[lastIndex].connect(context.destination)\n      if (!muteStat){\n        gainNode[lastIndex].gain.value = 0.5 * this.state.masterVol/100\n        source[lastIndex].start(deadline)\n      }\n    }\n\n    /* mute */\n    if (currentPattern.type === 'clicks') {\n      // console.log('clicks ' + metroSound)\n      for (let i = 0; i < lastIndex; i++) { source[i] = context.createBufferSource() }\n\n      if (metroSound === 'cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_higher']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_higher'] }\n      }\n      if (metroSound === 'cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_high'] }\n      }\n\n      if (metroSound === 'cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n\n      if (metroSound === 'cb4') {\n        source[0].buffer = sound['cowbell_low']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === 'cb5') {\n        source[0].buffer = sound['cowbell_lower']\n        source[1].buffer = sound['cowbell_lower']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '2cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_high'] }\n      }\n      if (metroSound === '2cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n      if (metroSound === '2cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === '2cb4') {\n        source[0].buffer = sound['cowbell_low']\n        source[1].buffer = sound['cowbell_lower']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '3cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n      if (metroSound === '3cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === '3cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '1cg1') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['highConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['highConga'] }\n      }\n      if (metroSound === '1cg2') {\n        source[0].buffer = sound['midConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['midConga'] }\n      }\n      if (metroSound === '1cg3') {\n        source[0].buffer = sound['lowConga']\n        source[1].buffer = sound['lowConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === '2cg1') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['midConga'] }\n      }\n      if (metroSound === '2cg2') {\n        source[0].buffer = sound['midConga']\n        source[1].buffer = sound['lowConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === '3cg') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === 'cv') {\n        source[0].buffer = sound['clave']\n        source[1].buffer = sound['clave']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['clave'] }\n      }\n      if (metroSound === 'hc') {\n        source[0].buffer = sound['handClap']\n        source[1].buffer = sound['handClap']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['handClap'] }\n      }\n\n      if (!muteStat) {\n        for (let i = 0; i < lastIndex; i++) {\n          let vol = parseInt(currentPattern.pattern[i].values[count], 10)\n          if (vol === 0) continue\n          source[i].connect(gainNode[i])\n          gainNode[i].connect(context.destination)\n          gainNode[i].gain.value = master * vol / 9.0\n          source[i].start(deadline)\n        }\n      } // end !muteStat\n    } // end clicks or drums\n\n    // next count\n    count = (count + 1) % numerator\n    if (count === 0) {\n      barCount++\n      if (this.state.restBars > 0) { this.setState({restBars: this.state.restBars - 1}) }\n    }\n    this.params.count = count\n    this.params.barCount = barCount\n    this.params.muteCount = muteCount\n    this.params.muteStat = muteStat\n\n    if (this.state.loopStat.playing && count === 0) { this.customPlay({target: {name: 'nextBar'}}) }\n  } // end playPattern\n\n  handleTimer (event) {\n    if (event.target.name === 'timer') {\n      this.params.timer = parseInt(event.target.value, 10)\n      this.setState({rest: this.params.timer})\n      return\n    }\n\n    if (event.target.name === 'barTimer') {\n      this.params.barTimer = parseInt(event.target.value, 10)\n      this.setState({restBars: this.params.barTimer})\n      return\n    }\n\n    if (event.target.name === 'startTimer' && this.params.timer > 0) {\n      this.timerEvent = timerClock.callbackAtTime(function (event) {\n        this.setState({rest: this.state.rest - 1})\n      }.bind(this), 1).repeat(1)\n\n      this.timeoutEvent = timerClock.setTimeout(function (event) {\n        this.startStopDrums({target: {name: 'stop'}})\n        this.setState({rest: this.params.timer})\n      }.bind(this), this.state.rest)\n\n      return\n    } // end startTimer\n\n    if (event.target.name === 'clearTimer' && this.params.timer > 0) {\n      if (this.timerEvent) this.timerEvent.clear()\n      if (this.timeoutEvent) this.timeoutEvent.clear()\n      return\n    } // end clearTimer\n\n    if (event.target.name === 'startBarTimer') {\n      return\n    }\n\n    if (event.target.name === 'clearBarTimer') {\n\n    }\n  } // end handleTimer()\n\n  handleMenu (event) {\n    if (event.target.name === 'language') {\n      if (this.state.ja === true) {\n        m = usText\n        this.setState({ja: false})\n      } else {\n        m = jaText\n        this.setState({ja: true})\n      }\n      return\n    }\n    if (event.target.name === 'showMore') {\n      this.setState({showMore: !this.state.showMore})\n      return\n    }\n\n    if (event.target.name === 'advancedUI') {\n      this.setState({showAdvanced: !this.state.showAdvanced})\n      return\n    }\n\n    if (event.target.name === 'drumsUI') {\n      this.setState({showDrums: !this.state.showDrums})\n      return\n    }\n\n    if (event.target.name === 'customLoopUI') {\n      this.setState({showCustomLoop: !this.state.showCustomLoop})\n      return\n    }\n\n    if (event.target.name === 'setListsUI') {\n      this.setState({showSetLists: !this.state.showSetLists})\n      return\n    }\n\n    if (event.target.name === 'songListUI') {\n      this.setState({showSongList: !this.state.showSongList})\n    }\n  } // end handleMenu()\n\n  handlePattern (event) {\n    if (event.target.name === 'metroOn') {\n      this.params.currentPattern =\n        loadedClickPatterns[this.state.clickPatternNo]\n      this.setState({metroOn: true, drumsOn: false})\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    }\n\n    if (event.target.name === 'metroSound') {\n      console.log(event.target.name)\n      this.setState({metroSound: event.target.value})\n      return\n    }\n\n    if (event.target.name === 'drumsOn') {\n      this.params.currentPattern = loadedDrumPatterns[this.state.drumPatternNo]\n      this.setState({metroOn: false, drumsOn: true})\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    }\n\n    if (event.target.name === 'voiceOn') {\n      this.setState({voiceOn: !this.state.voiceOn})\n      return\n    }\n\n    if (event.target.name === 'voice') {\n      this.setState({voice: event.target.value})\n      return\n    }\n\n // SongList operation\n    if (event.target.name === 'setBar') {\n      const current = event.target.value\n      this.params.currentPattern = current\n\n      if (current.triplet === undefined) {\n        this.params.triplet = false\n      } else this.params.triplet = current.triplet\n\n      if (current.swingVal === undefined) {\n        this.params.swing = false\n        current.swingVal = 1.5\n      } else this.params.swing = true\n      this.setState({swingVal: current.swingVal})\n\n      let num = this.findNumByName(current.name)\n      // console.log('NUM: ' + num)\n      if (num < 0) return\n      if (current.type === 'clicks') this.setState({clickPatternNo: num})\n      else if (current.type === 'drumkit') this.setState({drumPatternNo: num})\n\n      return\n    }\n\n    if ((event.target.name === 'drumPattern') ||\n       (event.target.name === 'clickPattern')) {\n      if (event.target.name === 'drumPattern') {\n        // console.log('drumPattern')\n        this.params.currentPattern =\n          loadedDrumPatterns[parseInt(event.target.value, 10)]\n        this.setState({drumsOn: true,\n          metroOn: false,\n          drumPatternNo: parseInt(event.target.value, 10)})\n      }\n\n      if (event.target.name === 'clickPattern') {\n        console.log('clickPattern: ' + event.target.value)\n        this.params.currentPattern =\n          loadedClickPatterns[parseInt(event.target.value, 10)]\n        this.setState({metroOn: true,\n          drumsOn: false,\n          clickPatternNo: parseInt(event.target.value, 10)})\n      }\n\n      if (this.params.currentPattern.triplet === undefined) {\n        this.params.triplet = false\n      } else this.params.triplet = this.params.currentPattern.triplet\n\n      if (this.params.currentPattern.swingVal === undefined) {\n        this.params.swing = false\n        this.params.currentPattern.swingVal = 1.5\n      } else this.params.swing = true\n\n      this.setState({swingVal: this.params.currentPattern.swingVal})\n      this.startStopDrums({target: {name: 'restart'}})\n    }\n  } // end handlePattern()\n\n  handleBpm (event) {\n    if (event.target.name === 'bpmFrac') {\n      let bpmFrac = parseInt(event.target.value, 10)\n      let newBpm = Math.floor(this.state.bpm) + 0.1 * bpmFrac\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpmStep') { // +-1\n      let newBpm = parseFloat(this.state.bpm, 10) +\n        parseInt(event.target.value, 10)\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpm_slider') { // slider\n      let newBpm = parseInt(event.target.value, 10) +\n        0.1 * parseInt(this.state.bpmFrac, 10)\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpm_set') { // actual process\n      // console.log('bpm_set: ' + event.target.value)\n      let newBpm = parseFloat(event.target.value, 10).toFixed(1)\n      if (this.state.playing) {\n        clock.timeStretch(context.currentTime, this.tickEvents,\n        this.state.bpm / newBpm)\n      }\n      this.setState(\n        {bpm: newBpm,\n          bpmFrac: Math.round(10 * (newBpm - Math.floor(newBpm)))}\n      )\n      return\n    } // end bpm_set\n\n//  Tempo tap: https://www.all8.com/tools/bpm.htm\n    if (event.target.name === 'tempo_tap') {\n      let timeSeconds = new Date()\n      let msecs = timeSeconds.getTime()\n\n      if ((msecs - this.tap.msecsPrevious) > 3000) { // timeout 3 sec\n        this.tap.count = 0\n      }\n\n      if (this.tap.count === 0) {\n        this.tap.msecsFirst = msecs\n        this.tap.count = 1\n      } else {\n        let newBpm = 60000 * this.tap.count / (msecs - this.tap.msecsFirst)\n        this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n        this.tap.count++\n      }\n      this.tap.msecsPrevious = msecs\n    }\n  } // end handleBpm()\n\n  handleAdvanced (event) {\n    if (event.target.name === 'increment') {\n      this.setState({increment: parseInt(event.target.value, 10)})\n      return\n    }\n\n    if (event.target.name === 'swing') {\n      if (event.target.value !== 15) {\n        let swingVal = parseFloat(event.target.value / 10, 10)\n        this.params.swing = true\n        this.setState({swingVal: swingVal})\n      } else {\n        this.params.swing = false\n        this.setState({swingVal: 1.5})\n      }\n\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    } // end swing\n\n    if (event.target.name === 'muteProb') {\n      this.setState({muteProb: parseFloat(event.target.value, 10).toFixed(1)})\n      return\n    }\n\n    if (event.target.name === 'perBars') {\n      this.setState({perBars: parseInt(event.target.value, 10)})\n      return\n    }\n\n    if (event.target.name === 'muteBars') {\n      this.setState({muteBars: parseInt(event.target.value, 10)})\n      return\n    }\n    if (event.target.name === 'evenVol') {\n      if (this.state.evenVol) { this.setState({evenVol: parseFloat(event.target.value)}) } else this.setState({evenVol: 1.0})\n    }\n  } // end handleAdvanced()\n\n  handleWindowClose (event) { // finishing clean up\n    this.startStopDrums({target: {name: 'stop'}})\n    this.saveSetLists()\n    clock.stop()\n    context.close()\n  }\n\n  findNumByName (name) {\n    for (let i = 0; i < loadedClickPatterns.length; i++) { if (loadedClickPatterns[i].name === name) return i }\n\n    for (let i = 0; i < loadedDrumPatterns.length; i++) { if (loadedDrumPatterns[i].name === name) return i }\n\n    return -1\n  }\n\n  handleVolume (e){\n    if (e.target.name !== 'volumeSlider') return;\n    this.setState({masterVol: parseInt(e.target.value)});\n  }\n\n} // end App\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n"],"sourceRoot":""}