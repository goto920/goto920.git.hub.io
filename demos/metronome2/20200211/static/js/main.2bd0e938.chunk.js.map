{"version":3,"sources":["bass.mp3","clave.mp3","cowbell_high.mp3","cowbell_higher.mp3","cowbell_low.mp3","cowbell_lower.mp3","cowbell_mid.mp3","crash.mp3","crashL.mp3","crashR.mp3","female_1.mp3","female_2.mp3","female_3.mp3","female_4.mp3","female_5.mp3","female_6.mp3","female_7.mp3","female_8.mp3","handClap.mp3","highConga.mp3","highTom.mp3","hihat.mp3","hihatClose.mp3","hihatFullOpen.mp3","hihatHalfOpen.mp3","lowConga.mp3","lowTom.mp3","male_1.mp3","male_2.mp3","male_3.mp3","male_4.mp3","male_5.mp3","male_6.mp3","male_7.mp3","male_8.mp3","maracas.mp3","midConga.mp3","midTom.mp3","openHihat.mp3","ride.mp3","rideCup.mp3","snare.mp3","snareBuzz.mp3","snareFlam.mp3","snareRim.mp3","snareClosedRim.mp3","snareOpenRim.mp3","tomHigh.mp3","tomMid.mp3","tomLow.mp3","buffer-loader.js","soundList.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","BufferLoader","context","urlList","callback","this","onload","bufferList","loadCount","prototype","loadBuffer","url","index","request","XMLHttpRequest","open","responseType","loader","decodeAudioData","response","buffer","length","alert","error","console","onerror","send","load","i","soundList","push","bass","clave","cowbell_high","cowbell_higher","cowbell_low","cowbell_lower","cowbell_mid","crash","crashL","crashR","female_1","female_2","female_3","female_4","female_5","female_6","female_7","female_8","handclap","highConga","highTom","hihat","hihatClose","hihatFullOpen","hihatHalfOpen","lowConga","lowTom","male_1","male_2","male_3","male_4","male_5","male_6","male_7","male_8","maracas","midConga","midTom","openHihat","ride","rideCup","snare","snareBuzz","snareFlam","snareRim","snareClosedRim","snareOpenRim","tomHigh","tomMid","tomLow","clock","timerClock","window","AudioContext","webkitAudioContext","gainNode","version","packageJSON","homepage","subversion","slice","jaText","messages","ja","usText","us","m","App","props","params","minBpm","maxBpm","numerator","denominator","default_clickPatternNo","default_drumPatternNo","timer","barTimer","muteCount","muteStat","muteBars","muteProb","cowbell","maleVoice","femaleVoice","currentPattern","swing","triplet","count","barCount","startTime","setLists","newListName","newSongName","loadedClickPatterns","default","loadedDrumPatterns","timerEvent","timeOutEvent","state","rest","restBars","playing","bpm","bpmFrac","metroOn","clickPatternNo","metroSound","drumsOn","drumPatternNo","voiceOn","voice","swingVal","evenVol","increment","perBars","showMore","showAdvanced","showSetLists","showCustomLoop","showSongList","loopTable","loopTableNewRow","bar","repeat","loopStat","seq","selectedSetList","selectedSong","name","setState","bind","startStopDrums","customPlay","handleMenu","handlePattern","handleBpm","handleTimer","handleAdvanced","handleSetLists","handleTable","playPattern","nextTick","handleWindowClose","saveSetLists","findNumByName","tickEvents","sound","tap","msecsFirst","msecsPrevious","savedSetLists","JSON","parse","localStorage","getItem","items","loadedSetListSample","addEventListener","createGain","inputFiles","replace","removeEventListener","saveLists","setItem","stringify","clickPatternOptions","map","e","value","key","drumPatternOptions","SwingValOptions","val","comm","IncrementOptions","setListsOptions","SetListsOptions","setListsRows","align","onChange","selectOp","songListOptions","SongListOptions","SongListRows","width","song","table","loopTableRows","className","type","checked","RepeatOptions","color","onClick","metronome","drums","Math","floor","min","max","step","defaultValue","secs","bars","moreFeatures","hide","show","advanced","prop","parseInt","swingStr","muteProb1","muteProb2","parseFloat","toFixed","evenNotes","SetLists","SongList","Current","border","autoFocus","custom","d_a","rewind","href","target","guide","event","beat","clear","splice","undefined","WAAClock","start","currentTime","callbackAtTime","deadline","tolerance","early","late","match","names","split","current","unshift","values","songItems","log","setTimeout","selected","clickPmin","beatInd","beatDur","barDur","relativeTime","currentBar","offset","newBpm","random","source","master","pattern","createBufferSource","note","connect","destination","gain","lastIndex","vol","timeoutEvent","showDrums","num","timeStretch","round","msecs","Date","getTime","stop","close","Component","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","render","document","getElementById","URL","process","origin","fetch","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"2wsHAAAA,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0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","file":"static/js/main.2bd0e938.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bass.759662e7.mp3\";","module.exports = __webpack_public_path__ + \"static/media/clave.c5049490.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_high.e876331a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_higher.58d8ae2c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_low.67ff30fa.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_lower.608432b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_mid.a218f307.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crash.b2edd9d2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crashL.3431ec55.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crashR.f6a58428.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_1.061e8364.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_2.0132e11e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_3.7fbe20d1.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_4.d5c07573.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_5.23114b75.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_6.1abf57a8.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_7.b297aa70.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_8.879b851e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/handClap.a3e60700.mp3\";","module.exports = __webpack_public_path__ + \"static/media/highConga.cc856e06.mp3\";","module.exports = __webpack_public_path__ + \"static/media/highTom.3120d26a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.9335af77.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatClose.bcece98b.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatFullOpen.5e04228e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatHalfOpen.c086d2ae.mp3\";","module.exports = __webpack_public_path__ + \"static/media/lowConga.5129e139.mp3\";","module.exports = __webpack_public_path__ + \"static/media/lowTom.9566d9cf.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_1.3de06eee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_2.0eee49b8.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_3.d55f1473.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_4.b88b2ea6.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_5.2acf0c9d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_6.945a42ee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_7.f6668c40.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_8.c39f060c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/maracas.79bbf5b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/midConga.82c31427.mp3\";","module.exports = __webpack_public_path__ + \"static/media/midTom.d737a0b0.mp3\";","module.exports = __webpack_public_path__ + \"static/media/openHihat.10b26924.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.d3d3470a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/rideCup.d2b083f3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.e4e49c88.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareBuzz.9f645de5.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareFlam.e944ca7c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareRim.d8349dcc.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareClosedRim.178c428f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareOpenRim.6ca3fbc2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomHigh.716fe783.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomMid.37b4619d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomLow.96725c6d.mp3\";","/*\nhttps://www.html5rocks.com/ja/tutorials/webaudio/intro/js/buffer-loader.js\n*/\n\nexport default function BufferLoader (context, urlList, callback) {\n  this.context = context\n  this.urlList = urlList\n  this.onload = callback\n  //  this.bufferList = new Array();\n  this.bufferList = []\n  this.loadCount = 0\n}\n\nBufferLoader.prototype.loadBuffer = function (url, index) {\n  // Load buffer asynchronously\n  var request = new XMLHttpRequest()\n  request.open('GET', url, true)\n  request.responseType = 'arraybuffer'\n\n  var loader = this\n\n  request.onload = function () {\n    // Asynchronously decode the audio file data in request.response\n    loader.context.decodeAudioData(\n      request.response,\n      function (buffer) {\n        if (!buffer) {\n          alert('error decoding file data: ' + url)\n          return\n        }\n        loader.bufferList[index] = buffer\n        if (++loader.loadCount === loader.urlList.length) { loader.onload(loader.bufferList) }\n      },\n      function (error) {\n        console.error('decodeAudioData error', error)\n      }\n    )\n  }\n\n  request.onerror = function () {\n    alert('BufferLoader: XHR error')\n  }\n\n  request.send()\n}\n\nBufferLoader.prototype.load = function () {\n  for (var i = 0; i < this.urlList.length; ++i) { this.loadBuffer(this.urlList[i], i) }\n}\n","import bass from './bass.mp3'\nimport clave from './clave.mp3'\nimport cowbell_high from './cowbell_high.mp3'\nimport cowbell_higher from './cowbell_higher.mp3'\nimport cowbell_low from './cowbell_low.mp3'\nimport cowbell_lower from './cowbell_lower.mp3'\nimport cowbell_mid from './cowbell_mid.mp3'\nimport crash from './crash.mp3'\nimport crashL from './crashL.mp3'\nimport crashR from './crashR.mp3'\nimport female_1 from './female_1.mp3'\nimport female_2 from './female_2.mp3'\nimport female_3 from './female_3.mp3'\nimport female_4 from './female_4.mp3'\nimport female_5 from './female_5.mp3'\nimport female_6 from './female_6.mp3'\nimport female_7 from './female_7.mp3'\nimport female_8 from './female_8.mp3'\nimport handclap from './handClap.mp3'\nimport highConga from './highConga.mp3'\nimport highTom from './highTom.mp3'\nimport hihat from './hihat.mp3'\nimport hihatClose from './hihatClose.mp3'\nimport hihatFullOpen from './hihatFullOpen.mp3'\nimport hihatHalfOpen from './hihatHalfOpen.mp3'\nimport lowConga from './lowConga.mp3'\nimport lowTom from './lowTom.mp3'\nimport male_1 from './male_1.mp3'\nimport male_2 from './male_2.mp3'\nimport male_3 from './male_3.mp3'\nimport male_4 from './male_4.mp3'\nimport male_5 from './male_5.mp3'\nimport male_6 from './male_6.mp3'\nimport male_7 from './male_7.mp3'\nimport male_8 from './male_8.mp3'\nimport maracas from './maracas.mp3'\nimport midConga from './midConga.mp3'\nimport midTom from './midTom.mp3'\nimport openHihat from './openHihat.mp3'\nimport ride from './ride.mp3'\nimport rideCup from './rideCup.mp3'\nimport snare from './snare.mp3'\nimport snareBuzz from './snareBuzz.mp3'\nimport snareFlam from './snareFlam.mp3'\nimport snareRim from './snareRim.mp3'\nimport snareClosedRim from './snareClosedRim.mp3'\nimport snareOpenRim from './snareOpenRim.mp3'\nimport tomHigh from './tomHigh.mp3'\nimport tomMid from './tomMid.mp3'\nimport tomLow from './tomLow.mp3'\n\n// BEGIN\nvar soundList = []\nsoundList.push(bass)\nsoundList.push(clave)\nsoundList.push(cowbell_high)\nsoundList.push(cowbell_higher)\nsoundList.push(cowbell_low)\nsoundList.push(cowbell_lower)\nsoundList.push(cowbell_mid)\nsoundList.push(crash)\nsoundList.push(crashL)\nsoundList.push(crashR)\nsoundList.push(female_1)\nsoundList.push(female_2)\nsoundList.push(female_3)\nsoundList.push(female_4)\nsoundList.push(female_5)\nsoundList.push(female_6)\nsoundList.push(female_7)\nsoundList.push(female_8)\nsoundList.push(handclap)\nsoundList.push(highConga)\nsoundList.push(highTom)\nsoundList.push(hihat)\nsoundList.push(hihatClose)\nsoundList.push(hihatFullOpen)\nsoundList.push(hihatHalfOpen)\nsoundList.push(lowConga)\nsoundList.push(lowTom)\nsoundList.push(male_1)\nsoundList.push(male_2)\nsoundList.push(male_3)\nsoundList.push(male_4)\nsoundList.push(male_5)\nsoundList.push(male_6)\nsoundList.push(male_7)\nsoundList.push(male_8)\nsoundList.push(maracas)\nsoundList.push(midConga)\nsoundList.push(midTom)\nsoundList.push(openHihat)\nsoundList.push(ride)\nsoundList.push(rideCup)\nsoundList.push(snare)\nsoundList.push(snareBuzz)\nsoundList.push(snareFlam)\nsoundList.push(snareRim)\nsoundList.push(snareClosedRim)\nsoundList.push(snareOpenRim)\nsoundList.push(tomHigh)\nsoundList.push(tomMid)\nsoundList.push(tomLow)\n// END\n\nexport default soundList\n","import React, { Component } from 'react'\nimport './Metronome.css'\nimport BufferLoader from './buffer-loader'\nimport WAAClock from 'waaclock'\nimport messages from './language.json'\nimport packageJSON from '../package.json'\nimport loadedSetListSample from './setListSample.json'\nimport loadedDrumPatterns from './drumPatterns.json'\nimport loadedClickPatterns from './clickPatterns.json'\nimport soundList from './soundList.js'\n\n// global variable\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext\nvar context\nvar clock\nvar timerClock\nvar gainNode = []\n\nconst version = (packageJSON.homepage + packageJSON.subversion).slice(-10)\n // define in package.json\n// const early = 0.1\nconst early = 0.1\nconst late = 0.1\nconst jaText = messages.ja\nconst usText = messages.us\nvar m = usText\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n\n    this.params = {\n      minBpm: 30.0,\n      maxBpm: 360.0,\n      numerator: null,\n      denominator: null,\n      default_clickPatternNo: null,\n      default_drumPatternNo: null,\n      timer: 0,\n      barTimer: 0,\n\n      muteCount: 0,\n      muteStat: false,\n      muteBars: 0,\n      muteProb: 0.0,\n\n      cowbell: [],\n      maleVoice: [],\n      femaleVoice: [],\n      currentPattern: {},\n      swing: false,\n      triplet: false,\n      count: 0,\n      barCount: 0,\n      startTime: 0,\n      setLists: [],\n      newListName: '',\n      newSongName: ''\n    }\n\n    for (let i = 0; i < loadedClickPatterns.length; i++) {\n      if (loadedClickPatterns[i].default === true) {\n        this.params.default_clickPatternNo = i\n        break\n      }\n    }\n\n    this.params.currentPattern =\n      loadedClickPatterns[this.params.default_clickPatternNo]\n\n    for (let i = 0; i < loadedDrumPatterns.length; i++) {\n      if (loadedDrumPatterns[i].default === true) {\n        this.params.default_drumPatternNo = i\n        break\n      }\n    }\n\n    this.timerEvent = 0\n    this.timeOutEvent = 0\n\n    this.state = {\n      ja: false,\n      rest: 0,\n      restBars: 0,\n      playing: false,\n\n      bpm: 100,\n      bpmFrac: 0.0,\n      metroOn: true,\n      clickPatternNo: this.params.default_clickPatternNo, // default 4/4\n      metroSound: '3cb2',\n      drumsOn: false,\n      drumPatternNo: this.params.default_drumPatternNo,\n      voiceOn: false,\n      voice: 'male',\n      swingVal: 1.5,\n      evenVol: 1.0,\n      increment: 0,\n      perBars: 0,\n\n      showMore: false,\n      showAdvanced: false,\n      showSetLists: false,\n      showCustomLoop: false,\n      showSongList: false,\n      // for custom loop\n      loopTable: [],\n      loopTableNewRow: {\n        bar: loadedClickPatterns[this.params.default_clickPatternNo],\n        swingVal: 1.5,\n        repeat: 4},\n      loopStat: {playing: false, seq: 0, repeat: 0, bar: 0},\n\n      selectedSetList: {},\n      selectedSong: {name: 'none'} // default\n    } // end state\n\n    this.setState = this.setState.bind(this)\n    this.startStopDrums = this.startStopDrums.bind(this)\n    this.customPlay = this.customPlay.bind(this)\n    this.handleMenu = this.handleMenu.bind(this)\n    this.handlePattern = this.handlePattern.bind(this)\n    this.handleBpm = this.handleBpm.bind(this)\n    this.handleTimer = this.handleTimer.bind(this)\n    this.handleAdvanced = this.handleAdvanced.bind(this)\n    this.handleSetLists = this.handleSetLists.bind(this)\n    this.handleTable = this.handleTable.bind(this)\n    this.playPattern = this.playPattern.bind(this)\n    this.nextTick = this.nextTick.bind(this)\n    this.handleWindowClose = this.handleWindowClose.bind(this)\n    this.saveSetLists = this.saveSetLists.bind(this)\n    this.findNumByName = this.findNumByName.bind(this)\n\n    this.tickEvents = []\n    this.sound = {}\n\n/* Example is in sampleTable.json */\n\n    this.tap = {\n      count: 0,\n      msecsFirst: 0,\n      msecsPrevious: 0\n    }\n  } // end constructor\n\n  componentWillMount () { // before render()\n    const savedSetLists = JSON.parse(localStorage.getItem('savedSetLists'))\n\n    if (savedSetLists === null) {\n      this.params.setLists.push({name: 'default', items: []}, loadedSetListSample)\n    } else {\n      for (let i = 0; i < savedSetLists.length; i++) {\n        this.params.setLists.push(savedSetLists[i])\n      }\n      this.params.setLists.push(loadedSetListSample)\n    }\n    this.setState({selectedSetList: this.params.setLists[0]})\n  }\n\n  componentDidMount () {\n    window.addEventListener('beforeunload', this.handleWindowClose)\n    context = new window.AudioContext()\n\n    for (let i = 0; i < 10; i++) { gainNode[i] = context.createGain() }\n\n    let inputFiles = []\n    for (let i = 0; i < soundList.length; i++) {\n      // inputFiles[i] = soundList[i] + '.mp3'\n      inputFiles[i] = soundList[i]\n      soundList[i] = soundList[i].replace(/\\/.*\\/(.*)\\..*\\.mp3/, '$1')\n      // console.log(soundList[i])\n    }\n\n    let bufferLoader = new BufferLoader(\n      context, inputFiles,\n      function (bufferList) {\n        for (let i = 0; i < soundList.length; i++) { this.sound[soundList[i]] = bufferList[i] }\n      }.bind(this)\n    )\n\n    bufferLoader.load()\n\n    // clock = new WAAClock(context)\n    // timerClock = clock\n    // clock.start()\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('beforeunload', this.handleWindowClose)\n  }\n\n  saveSetLists () {\n    if (this.params.setLists.length > 0) {\n      let saveLists = []\n      for (let i = 0; i < this.params.setLists.length; i++) {\n        if (this.params.setLists[i].name !== 'sample') { saveLists.push(this.params.setLists[i]) }\n      }\n      // console.log('save ' + saveLists.length + ' items')\n      if (saveLists.length > 0) {\n        localStorage.setItem('savedSetLists', JSON.stringify(saveLists))\n      }\n    }\n  }\n\n  render () {\n    const {ja, loopTable, loopTableNewRow, loopStat,\n      metroOn, clickPatternNo, metroSound, drumsOn, drumPatternNo,\n      voiceOn, voice, playing, bpm, bpmFrac,\n      increment, perBars, muteBars, muteProb,\n      rest, restBars, swingVal, evenVol, showMore,\n      showAdvanced, showSetLists, showSongList,\n      showCustomLoop, selectedSetList, selectedSong} = this.state\n\n    const {minBpm, maxBpm, setLists} = this.params\n\n    const {startStopDrums, customPlay,\n           handleMenu, handlePattern, handleBpm, handleTimer,\n           handleAdvanced, handleTable, handleSetLists} = this\n\n    const clickPatternOptions = loadedClickPatterns.map((e, index) => {\n      return (<option value={index} key={index}>\n        {('0' + index).slice(-2)}: {e.name}</option>)\n    })\n\n    const drumPatternOptions = loadedDrumPatterns.map((e, index) => {\n      return (<option value={index} key={index}>\n        {('00' + index).slice(-3)}: {e.name}</option>)\n    })\n\n/* Set swing value select options */\n    const swingValOptions = [\n      {val: 5}, {val: 6}, {val: 7}, {val: 8}, {val: 9}, {val: 10},\n      {val: 15, comm: '(Str)'},\n      {val: 16}, {val: 17}, {val: 18, comm: '(Lt)'},\n      {val: 19}, {val: 20, comm: '(Swg)'},\n      {val: 21}, {val: 22, comm: '(Hvy)'},\n      {val: 23}, {val: 24}, {val: 25}\n    ]\n    const SwingValOptions = swingValOptions.map(function (e, index) {\n      return (<option key={index} value={e.val}>{e.val / 10}{e.comm}</option>)\n    })\n    /* increment options */\n    const incrementOptions = [\n      -10, -9, -8, -7, -6, -5, -4, -3, -2, -1,\n      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\n    ]\n    const IncrementOptions = incrementOptions.map(function (e, index) {\n      return (<option key={index} value={e}>{e}</option>)\n    })\n\n    /* SetList UI (conditionally shown) */\n    let setListsOptions = []\n    for (let i = 0; i < setLists.length; i++) { setListsOptions.push(i) }\n\n    const SetListsOptions = setListsOptions.map(function (e, index) {\n      return (\n        <option key={index} value={'move:' + e}>\n         move after {('00' + e).slice(-2)}</option>)\n    })\n\n    const setListsRows = setLists.map(function (e, index) {\n      return (<tr key={'tr:' + index}>\n        <td align='right'>\n          <select name={'selectList:' + index} onChange={handleSetLists}>\n            <option key='none' value='none'>({m.selectOp})</option>\n            <option key='select' value='select'>select this</option>\n            <option key='top' value='top'>move to top</option>\n            {SetListsOptions}\n            <option key='delete' value='delete'>delete this</option>\n          </select></td>\n        <td align='right'>{('00' + index).slice(-2)}</td>\n        <td align='left'>{e.name}</td>\n      </tr>)\n    })\n\n    function SetListUI (props) {\n      return (<div className='table'>\n        <table border='3'>\n          <tbody>\n            <tr><th>sel/mov/del</th><th>seq</th><th>list name</th></tr>\n            {setListsRows}\n            <tr>\n              <td align='right' className='radioButton'>add\n          <input name='addList' type='radio'\n            checked={false} onChange={handleSetLists} /></td>\n              <td align='right'>new</td>\n              <td align='left'>\n                <span className='text'>\n                  <input type='text' name='newList'\n                    autoFocus={false} onChange={handleSetLists} />\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>)\n    }\n\n    /* songList */\n    let songListOptions = []\n\n    for (let i = 0; i < selectedSetList.items.length; i++) { songListOptions.push(i) }\n\n    const SongListOptions = songListOptions.map(function (e, index) {\n      return (\n        <option key={index} value={'move:' + e}>\n          move after {('00' + e).slice(-2)}</option>)\n    })\n\n    const SongListRows = selectedSetList.items.map(function (e, index) {\n      return (<tr key={'tr:' + index}>\n        <td align='right'>\n          <select name={'selectSong:' + index} onChange={handleSetLists}>\n            <option key='none' value='none'>({m.selectOp})</option>\n            <option key='select' value='select'>select this</option>\n            <option key='top' value='top'>move to top</option>\n            {SongListOptions}\n            <option key='delete' value='delete'>delete this</option>\n          </select></td>\n        <td align='right'>{('00' + index).slice(-2)}</td>\n        <td align='left' width='150'>{e.song}</td>\n        <td align='right'>{e.bpm}</td>\n        <td align='right'>{e.table ? 'loop' : 'bar' }</td>\n      </tr>)\n    })\n\n    function SongListUI (props) {\n      return (<div className='table'>\n        <table border='3'>\n          <tbody>\n            <tr><th>sel/mov/del</th><th>seq</th>\n              <th>song name</th><th>bpm</th>\n              <th>type</th></tr>\n            {SongListRows}\n            <tr>\n              <td align='center' className='radioButton'>add current<br />\n         bar<input name='addSong'\n           type='radio' checked={false} value='bar'\n           onChange={handleSetLists} /><br />\n         or loop<input name='addSong' type='radio' value='loop'\n           checked={false} onChange={handleSetLists} />\n              </td>\n              <td align='right'>new</td>\n              <td align='left' className='text'><input name='newSong'\n                type='text' onChange={handleSetLists} /></td>\n              <td align='right'>{Math.floor(bpm) + parseFloat(0.1 * bpmFrac, 10)}</td>\n              <td>(choose)</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>)\n    }\n\n    function AdvancedUI (prop) {\n      return (<span>\n        {m.swing}: &nbsp;\n        <span className='selector'>\n          <select name='swing' value={parseInt(swingVal * 10, 10)}\n            onChange={handleAdvanced}>{SwingValOptions}</select>\n        </span>\n        {m.swingStr}\n        <br />\n        <span className='selector'>\n          {m.increment}: &nbsp;\n       <select name='increment' value={increment}\n         onChange={handleAdvanced}>{IncrementOptions}\n       </select> bpm\n       </span>\n         /\n        <span className='selector'>\n          <select name='perBars' value={perBars} onChange={handleAdvanced}>\n            <option value='0'>off</option> <option value='1'>1</option>\n            <option value='2'>2</option> <option value='4'>4</option>\n            <option value='8'>8</option> <option value='12'>12</option>\n            <option value='16'>16</option>\n          </select>\n          {m.perBars}</span><br />\n        <span className='selector'>\n          {m.muteBars}: &nbsp;\n         <select name='muteBars' value={muteBars} onChange={handleAdvanced}>\n           <option value='0'>off</option> <option value='1'>1</option>\n           <option value='2'>2</option> <option value='4'>4</option>\n           <option value='8'>8</option> <option value='12'>12</option>\n           <option value='16'>16</option>\n         </select>\n        </span>\n        {m.muteProb1}, {m.muteProb2}\n        <span className='selector'>\n          <select name='muteProb' value={parseFloat(muteProb, 10).toFixed(1)} onChange={handleAdvanced}>\n            <option value='0.0'>0.0</option> <option value='0.1'>0.1</option>\n            <option value='0.2'>0.2</option> <option value='0.3'>0.3</option>\n            <option value='0.4'>0.4</option> <option value='0.5'>0.5</option>\n            <option value='0.6'>0.6</option> <option value='0.7'>0.7</option>\n            <option value='0.8'>0.8</option> <option value='0.9'>0.9</option>\n            <option value='1.0'>1.0</option>\n          </select>\n        </span>\n        <br />\n        <span className='slider'>\n          {m.evenNotes}: {evenVol.toFixed(2)} <input type='range' name='evenVol'\n            min='0.0' max='1.0' value={evenVol} step='0.01'\n            onChange={handleAdvanced} />\n        </span>\n      </span>)\n    } // end AdvancedUI\n\n/*\n    function DrumsUI(props){\n      return(<span>Not implemented yet</span>)\n    }\n*/\n\n /* Custom Loop UI (conditinally shown) */\n    const loopTableRows = loopTable.map(function (e, index) {\n      return (<tr key={index}>\n        <td align='right' className='radioButton'>\n          d<input type='radio' name='loopDel' value={index}\n            checked={false} onChange={handleTable} /></td>\n        <td align='right'>{index}</td>\n        <td align='right'>{e.bar.name}</td>\n        <td align='right'>{e.repeat}</td>\n      </tr>)\n    })\n\n    const repeatOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n    const RepeatOptions = repeatOptions.map(function (e, index) {\n      return (<option key={index} value={e}>{e}</option>)\n    })\n\n    function CustomLoopUI (props) {\n      return (<div>\n      --- seq/rep/bar: {('00' + loopStat.seq).slice(-2)}\n               /{('00' + loopStat.repeat).slice(-2)}\n               /{('00' + loopStat.bar).slice(-3)}\n        <br />\n        <b>{m.d_a}</b>&nbsp;\n        <span>\n          <button name='startLoop' onClick={customPlay}>\n            {loopStat.playing ? 'Stop' : 'Start'}</button></span>\n        / <span className='loopButton'>\n          <button name='rewindLoop' onClick={customPlay}>\n            {m.rewind}</button>\n        </span>\n        <br />\n        <div className='table'>\n          <table border='3'>\n            <tbody>\n              <tr><th>d/a</th><th>seq</th>\n                <th>pattern</th><th>repeat</th></tr>\n              {loopTableRows}\n              <tr><td align='right' className='radioButton'>\n      metro\n      <input type='radio' name='loopAdd' value='click' checked={false}\n        onChange={handleTable} />\n                <br />\n      drum\n      <input type='radio' name='loopAdd' value='drum' checked={false}\n        onChange={handleTable} />\n              </td>\n                <td align='right'>add</td>\n                <td align='right' className='selector'>\n                  <select name='loopAddClickPattern' value={clickPatternNo}\n                    onChange={handleTable}>\n                    {clickPatternOptions}</select><br />\n                  <select name='loopAddDrumPattern' value={drumPatternNo}\n                    onChange={handleTable}>\n                    {drumPatternOptions}</select><br />\n                </td>\n                <td align='right' className='selector'><span>\n                  <select name='loopRepeat'\n                    defaultValue={loopTableNewRow.repeat}\n                    onChange={handleTable}>{RepeatOptions}</select>\n                </span></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>)\n    }\n\n/// //////////// UI menus\n    return (\n      <div className='metronome'>\n      KG's Metronome2 &nbsp; <font color='blue'>Lang: </font>\n        <span className='small-button'>\n          <button name='language' onClick={handleMenu}>\n            {ja ? 'US' : 'JP'}</button>&nbsp;\n        </span>\n        Play: <button name='startStop' onClick={startStopDrums}>\n          {playing ? 'Stop' : 'Start'}</button>\n        <hr />\n        <span className='selector'>\n          <input name='metroOn' type='checkbox'\n            checked={metroOn} onChange={handlePattern} />\n          {m.metronome}: <select name='clickPattern' value={clickPatternNo}\n            onChange={handlePattern}>\n            {clickPatternOptions}\n          </select>\n        </span> &nbsp;\n        {m.sound}:&nbsp;\n        <span className='selector'>\n          <select name='metroSound' value={metroSound} onChange={handlePattern}>\n            <option value='cb1'>cowbell1</option>\n            <option value='cb2'>cowbell2</option>\n            <option value='cb3'>cowbell3</option>\n            <option value='cb4'>cowbell4</option>\n            <option value='cb5'>cowbell5</option>\n            <option value='2cb1'>2cowbell1</option>\n            <option value='2cb2'>2cowbell2</option>\n            <option value='2cb3'>2cowbell3</option>\n            <option value='2cb4'>2cowbell4</option>\n            <option value='3cb1'>3cowbell1</option>\n            <option value='3cb2'>3cowbell2</option>\n            <option value='3cb3'>3cowbell3</option>\n            <option value='1cg1'>1conga1</option>\n            <option value='1cg2'>1conga2</option>\n            <option value='1cg3'>1conga3</option>\n            <option value='2cg1'>2conga1</option>\n            <option value='2cg2'>2conga2</option>\n            <option value='3cg'>3conga</option>\n            <option value='cv'>clave</option>\n            <option value='hc'>handClap</option>\n          </select>\n        </span>\n        <br />\n        <span className='selector'>\n          <input type='checkbox' name='drumsOn' checked={drumsOn}\n            onChange={handlePattern} />\n          {m.drums}: <select name='drumPattern' value={drumPatternNo}\n            onChange={handlePattern}>\n            {drumPatternOptions}\n          </select>\n        </span>&nbsp;\n        <input type='checkbox' name='voiceOn'\n          checked={voiceOn} onChange={handlePattern} />\n        {m.voice}: <select name='voice' value={voice} onChange={handlePattern}>\n          <option value='male' >male</option>\n          <option value='female'>female</option>\n        </select>\n        <hr />\n        <span className='number'>\n        BPM({minBpm}-{maxBpm}): &nbsp; {('0' + Math.floor(bpm)).slice(-3)}.\n        <span className='selector'>\n          <select name='bpmFrac' value={bpmFrac}\n            onChange={handleBpm}>\n            <option value='0'>0</option> <option value='1'>1</option>\n            <option value='2'>2</option> <option value='3'>3</option>\n            <option value='4'>4</option> <option value='5'>5</option>\n            <option value='6'>6</option> <option value='7'>7</option>\n            <option value='8'>8</option> <option value='9'>9</option>\n          </select></span>\n        &nbsp; &nbsp; &nbsp; &nbsp;\n        </span>\n        <span className='small-button'>\n          <button name='tempo_tap' onClick={handleBpm}>\n            {m.tap}</button></span>&nbsp;\n        <br />\n        <span className='tinyButton'>\n          <button name='bpmStep'\n            value='-1' onClick={handleBpm}>-</button></span>\n        <span className='bpm-slider'>\n          <input type='range' name='bpm_slider'\n            min={minBpm} max={maxBpm} value={bpm} step='1.0'\n            onChange={handleBpm} />\n        </span>\n        <span className='tinyButton'>\n          <button name='bpmStep'\n            value='1' onClick={handleBpm}>+</button></span>\n        <hr />\n        {m.timer}: &nbsp;\n     <span className='selector'>\n       {('00' + rest).slice(-3)}/\n     <select name='timer' defaultValue='0' onChange={handleTimer}>\n       <option value='0'>off</option> <option value='30'>30</option>\n       <option value='60'>60</option> <option value='90'>90</option>\n       <option value='120'>120</option> <option value='180'>180</option>\n       <option value='240'>240</option> <option value='300'>300</option>\n       <option value='600'>600</option> </select>({m.secs}),&nbsp;\n     </span>\n        <span className='selector'>\n          {('00' + restBars).slice(-3)}/\n  <select name='barTimer' defaultValue='0' onChange={handleTimer}>\n    <option value='0'>off</option> <option value='12'>12</option>\n    <option value='16'>16</option> <option value='24'>24</option>\n    <option value='32'>32</option> <option value='64'>64</option>\n    <option value='128'>128</option> <option value='256'>256</option>\n  </select> ({m.bars})</span><hr />\n        {m.moreFeatures}: <span className='loopButton'>\n          <button name='showMore' onClick={handleMenu}>\n            {showMore ? m.hide : m.show} {/* no {} for m.hide,show */}\n          </button></span>\n\n        {showMore ? (<span><hr />\n          {m.advanced}: <span className='loopButton'>\n            <button name='advancedUI' onClick={handleMenu}>\n              {showAdvanced ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span><br />\n          {showAdvanced ? (<span><AdvancedUI /></span>) : ''}\n          <hr /><span className='loopButton'>\n            {m.SetLists}: <button name='setListsUI' onClick={handleMenu}>\n              {showSetLists ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span>&nbsp;\n          <span className='loopButton'>\n            {m.SongList}: <button name='songListUI' onClick={handleMenu}>\n              {showSongList ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button>\n          </span><br />\n          {m.Current}: <b>(List) {selectedSetList.name} :\n        (Song) {selectedSong.song} :\n        (ptn) {selectedSong.bar\n               ? selectedSong.bar.name : 'loop'} :\n        (bpm) {selectedSong.bpm}</b><br />\n          {showSetLists ? <SetListUI /> : ''}\n          {showSongList ? <SongListUI /> : ''}\n          <hr />\n          <span className='loopButton'>\n            {m.custom}: <button name='customLoopUI' onClick={handleMenu}>\n              {showCustomLoop ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span>\n          <br />{showCustomLoop ? <CustomLoopUI /> : ''}\n\n        </span>) : ''}\n\n        <hr />\n      (Version: {version}) <a href={m.url} target='_blank'>{m.guide}</a><br />\n        <hr />\n      </div>\n    )\n  } // end render()\n\n  customPlay (event) {\n    const {loopTable} = this.state\n    let {loopStat} = this.state\n    if (loopTable.length <= 0) return\n\n    if (event.target.name === 'startLoop') {\n      this.startStopDrums({target: {name: 'stop'}}) // stop the metronome\n      if (loopStat.playing) {\n        this.customPlay({target: {name: 'stop'}})\n      } else {\n        loopStat.seq = 0\n        loopStat.bar = 0\n        loopStat.repeat = 1\n        this.setState({loopStat: loopStat})\n        this.customPlay({target: {name: 'start'}})\n        loopStat.playing = true\n      }\n      this.setState({loopStat: loopStat})\n\n      return\n    }\n\n    if (event.target.name === 'rewindLoop') {\n      this.customPlay({target: {name: 'stop'}})\n      loopStat.seq = 0\n      loopStat.repeat = 0\n      loopStat.bar = 0\n      this.setState({loopStat: loopStat})\n      return\n    }\n\n    if (event.target.name === 'stop') {\n      for (let beat = 0; beat < this.tickEvents.length; beat++) { this.tickEvents[beat].clear() }\n      this.tickEvents.splice(0, this.tickEvents.length)\n      loopStat.playing = false\n      this.setState({loopStat: loopStat})\n      return\n    }\n\n    if (event.target.name === 'start') {\n     if (clock === undefined) {\n       clock = new WAAClock(context)\n       timerClock = clock\n       clock.start()\n     }\n      this.customPlay({target: {name: 'nextBar'}})\n      return\n    }\n\n    if (event.target.name === 'nextBar') {\n      if (loopStat.bar === 0 ||\n         loopStat.repeat === loopTable[loopStat.seq].repeat) { // next seq\n        if (loopStat.bar > 0) loopStat.seq++\n        if (loopStat.seq === loopTable.length) loopStat.seq = 0\n\n        loopStat.repeat = 1\n        let {bar} = loopTable[loopStat.seq]\n        this.params.currentPattern = bar\n        this.params.numerator = bar.numerator\n        this.params.denominator = bar.denominator\n        this.params.triplet = bar.triplet\n        if (bar.swingVal !== undefined) {\n          this.setState({swingVal: bar.swingVal})\n          this.params.swing = true\n        } else {\n          this.setState({swingVal: 1.5})\n          this.params.swing = false\n        }\n      } else loopStat.repeat++\n\n      if (loopStat.bar === 0) { this.params.startTime = context.currentTime } else { this.params.startTime = this.params.nextTick }\n\n      this.params.count = 0\n      for (let beat = 0; beat < this.params.numerator; beat++) {\n        event = clock.callbackAtTime(\n          function (event) {\n            this.playPattern(event.deadline)\n          }.bind(this),\n          this.nextTick(beat)\n        ).tolerance({early: early, late: late})\n        this.tickEvents[beat] = event\n      } // end for\n\n      loopStat.bar++\n      this.setState({loopStat: loopStat})\n      this.params.nextTick = this.nextTick(this.params.numerator) // next\n    } // end nextBar\n\n  } // end customPlay\n\n  handleTable (event) {\n    const {loopTable, loopTableNewRow} = this.state\n//    let {loopTableNewRow} = this.state\n\n    if (event.target.name === 'setLoopTable') {\n      this.setState({loopTable: event.target.value})\n      return\n    }\n\n    if (event.target.name === 'loopDel') {\n      loopTable.splice(event.target.value, 1)\n      this.setState({loopTable: loopTable})\n      return\n    }\n\n    if (event.target.name === 'loopAdd') {\n      if (event.target.value === 'drum') {\n        loopTableNewRow.bar =\n          loadedDrumPatterns[this.state.drumPatternNo]\n      } else if (event.target.value === 'click') {\n        loopTableNewRow.bar =\n          loadedClickPatterns[this.state.clickPatternNo]\n      }\n\n      loopTable.push({bar: loopTableNewRow.bar,\n        repeat: loopTableNewRow.repeat})\n      this.setState({loopTable: loopTable})\n      return\n    }\n\n    if (event.target.name === 'loopAddClickPattern') {\n      let clickPatternNo = parseInt(event.target.value, 10)\n      this.setState({clickPatternNo: clickPatternNo})\n      return\n    }\n\n    if (event.target.name === 'loopAddDrumPattern') {\n      let drumPatternNo = parseInt(event.target.value, 10)\n      this.setState({drumPatternNo: drumPatternNo})\n      return\n    }\n\n    if (event.target.name === 'loopRepeat') {\n      loopTableNewRow.repeat = parseInt(event.target.value, 10)\n      this.setState({loopTableNewRow: loopTableNewRow})\n    }\n  } // end handleTable\n\n  handleSetLists (event) {\n/*\n   (ref) https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n*/\n    /* handle setLists */\n    if (event.target.name.match(/^selectList:/)) {\n      let names = event.target.name.split(':')\n      if (event.target.value === 'select') {\n//        console.log('setLists.length:' + this.params.setLists.length)\n//        console.log(parseInt(names[1],10) + ' selected')\n        this.params.selectedSetList =\n         this.params.setLists[parseInt(names[1], 10)]\n        this.setState({\n          selectedSetList: this.params.setLists[parseInt(names[1], 10)],\n          selectedSong: {song: 'none'},\n          showSetLists: false,\n          showSongList: true})\n        return\n      }\n\n      if (event.target.value === 'top') {\n        // console.log(names[1] + ' move to top')\n        let current = this.params.setLists[parseInt(names[1], 10)]\n        this.params.setLists.splice(parseInt(names[1], 10), 1)\n        this.params.setLists.unshift(current)\n        this.setState({showSetLists: true})\n        return\n      }\n\n      if (event.target.value.match(/^move/)) {\n        let values = event.target.value.split(':')\n        let current = this.params.setLists[parseInt(names[1], 10)]\n        // console.log(names[1] + ' move after ' + values[1])\n        this.params.setLists.splice(parseInt(values[1], 10) + 1, 0, current)\n        if (parseInt(values[1], 10) < parseInt(names[1], 10)) { this.params.setLists.splice(parseInt(names[1], 10) + 1, 1) } else if (parseInt(values[1], 10) > parseInt(names[1], 10)) { this.params.setLists.splice(parseInt(names[1], 10), 1) } else {}// console.log('no effect')\n\n        this.saveSetLists()\n        this.setState({showSetLists: true})\n        return\n      }\n\n      if (event.target.value === 'delete') {\n        // console.log(names[1] + ' delete')\n        this.params.setLists.splice(names[1], 1)\n        this.saveSetLists()\n        this.setState({showSetLists: true})\n        return\n      }\n    }\n\n    if (event.target.name === 'addList') {\n      this.params.setLists.push({name: this.params.newListName, items: []})\n      this.saveSetLists()\n      this.setState({showSetLists: true})\n      return\n    }\n\n    if (event.target.name === 'newList') {\n      this.params.newListName = event.target.value\n      return\n    }\n\n    /* handle songs */\n    const songItems = this.state.selectedSetList.items\n\n    if (event.target.name.match(/^selectSong:/)) {\n      let names = event.target.name.split(':')\n\n      if (event.target.value === 'select') {\n        // console.log(names[1] + ' selected')\n        let song = songItems[parseInt(names[1], 10)]\n        this.setState({selectedSong: song, showSongList: false})\n        // this.setState({selectedSong: song})\n\n        if (song.bar !== undefined) { // HERE\n          this.handlePattern({target: {name: 'setBar', value: song.bar}})\n          this.handleBpm({target: {name: 'bpm_set',\n            value: parseFloat(song.bpm, 10)}})\n          return\n        }  // end bar pattern\n\n        if (song.table !== undefined) {\n          this.state.loopTable.splice(0, this.state.loopTable.length) // clear\n          this.handleBpm(\n            {target: {name: 'bpm_set',\n              value: parseFloat(song.bpm, 10)}}\n          )\n          this.handleTable({target: {name: 'setLoopTable', value: song.table}})\n          this.setState({showCustomLoop: true})\n          return\n        } // end if song.type === 'loop'\n      } // end if 'select'\n\n      if (event.target.value === 'top') {\n        let current = songItems[parseInt(names[1], 10)]\n        songItems.splice(parseInt(names[1], 10), 1)\n        songItems.unshift(current)\n        // console.log(names[1] + ' move to top')\n        this.setState({showSongList: true})\n        return\n      } // end top\n\n      if (event.target.value.match(/^move/)) {\n        let values = event.target.value.split(':')\n        let current = songItems[parseInt(names[1], 10)]\n        songItems.splice(parseInt(values[1], 10) + 1, 0, current)\n        if (parseInt(values[1], 10) < parseInt(names[1], 10)) { songItems.splice(parseInt(names[1], 10) + 1, 1) } else if (parseInt(values[1], 10) > parseInt(names[1], 10)) { songItems.splice(parseInt(names[1], 10), 1) } else {} // console.log('no effect')\n        this.setState({showSongList: true})\n        return\n      } // end move\n\n      if (event.target.value === 'delete') {\n        // console.log(names[1] + ' delete')\n        songItems.splice(parseInt(names[1], 10), 1)\n        this.saveSetLists()\n        this.setState({showSongList: true})\n        return\n      }\n    }\n\n    if (event.target.name === 'addSong') {\n      if (event.target.value === 'bar') {\n        // console.log('addSong preset')\n        this.state.selectedSetList.items.push({\n          song: this.params.newSongName,\n          bar: this.params.currentPattern,\n          bpm: parseFloat(this.state.bpm, 10).toFixed(1)})\n      }\n\n      if (event.target.value === 'loop') {\n        // console.log('addSong loop')\n        if (this.state.loopTable.length > 0) {\n          this.state.selectedSetList.items.push({\n            song: this.params.newSongName,\n            table: this.state.loopTable,\n            bpm: parseFloat(this.state.bpm, 10).toFixed(1)})\n        } else {} // console.log('addSong loop is empty')\n      } // end addSong\n\n      this.saveSetLists()\n      this.setState({showSongList: true})\n      return\n    }\n\n    if (event.target.name === 'newSong') {\n      this.params.newSongName = event.target.value\n    }\n  } // end handleSetLists\n\n  startStopDrums (event) {\n    if (event.target.name === 'startStop') {\n      if (this.state.loopStat.playing) {\n        this.customPlay({target: {name: 'stop'}})\n      }\n\n      if (this.state.playing) {\n        this.startStopDrums({target: {name: 'stop'}})\n      } else {\n        this.startStopDrums({target: {name: 'start'}})\n      }\n      this.setState({playing: !this.state.playing})\n    }\n\n/* actual process */\n    if (event.target.name === 'stop') {\n      for (let beat = 0; beat < this.tickEvents.length; beat++) { this.tickEvents[beat].clear() }\n      this.tickEvents.splice(0, this.tickEvents.length)\n      this.handleTimer({target: {name: 'clearTimer'}})\n      return\n    }\n\n    if (event.target.name === 'start') {\n      if (clock === undefined){\n       clock = new WAAClock(context)\n       timerClock = clock\n       clock.start()\n      }\n      const selected = this.params.currentPattern\n      // console.log('start with: ' + selected.name)\n      this.params.numerator = selected.numerator\n      this.params.denominator = selected.denominator\n\n      let clickPmin = this.state.bpm * (this.params.denominator / 4)\n\n      this.params.count = 0\n      this.params.startTime = context.currentTime\n      for (let beat = 0; beat < this.params.numerator; beat++) {\n        event = clock.callbackAtTime(\n           function (event) {\n             this.playPattern(event.deadline)\n           }.bind(this),\n          this.nextTick(beat)\n        ).repeat((this.params.numerator * 60.0) / clickPmin)\n         .tolerance({early: early, late: late}) // tight early tolerance\n        this.tickEvents[beat] = event\n      } // end for\n\n      this.handleTimer({target: {name: 'startTimer'}})\n      return\n    } // end start\n\n    if (event.target.name === 'restart' && this.state.playing) {\n      console.log('restart')\n      this.startStopDrums({target: {name: 'stop'}})\n      clock.setTimeout(function (event) {\n        this.startStopDrums({target: {name: 'start'}})\n      }.bind(this), 0.02)\n       .tolerance({early: early, late: late}) // tight early tolerance\n    } // end restart\n  } // end startStopDrums()\n\n// https://github.com/sebpiq/WAAClock/blob/master/demos/beatSequence.js\n  nextTick (beatInd) {\n    const beatDur = 60.0 / (this.state.bpm * this.params.denominator / 4)\n    const barDur = beatDur * this.params.numerator\n\n    const currentTime = context.currentTime\n    const relativeTime = Math.max(0, currentTime - this.params.startTime)\n    var currentBar = Math.floor(relativeTime / barDur)\n\n    let offset = 0\n    if (this.params.swing && (beatInd % 2) === 1) {\n      offset = (this.state.swingVal - 1.5) / 1.5 * beatDur\n    }\n\n    return this.params.startTime + offset +\n           currentBar * barDur + beatInd * beatDur\n  }\n\n  playPattern (deadline) {\n    const sound = this.sound\n    const {bpm, restBars, metroSound, voiceOn, voice, increment,\n           perBars, muteBars, muteProb, evenVol} = this.state\n    const {maxBpm, minBpm, barTimer, currentPattern, numerator,\n           triplet} = this.params\n    let {muteCount, muteStat, count, barCount} = this.params\n\n    // bar timer\n    if (barTimer > 0 && restBars <= 0) {\n      this.startStopDrums({target: {name: 'stop'}})\n      this.setState({playing: false, restBars: barTimer})\n      return\n    }\n\n    // automatic bpm increment\n    if ((perBars > 0) && (count === 0) && (barCount > 0) &&\n        (barCount % perBars) === 0) {\n      let newBpm = parseFloat(bpm) + parseFloat(increment)\n      if (newBpm > maxBpm) newBpm = maxBpm\n      if (newBpm < minBpm) newBpm = minBpm\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n    } // end automatic bpm increment\n\n// random mute\n    if (muteBars > 0 && muteProb > 0 && count === 0) {\n      if (muteCount === muteBars) {\n        muteStat = false\n        muteCount = 0\n      } else {\n        if (muteStat) {\n          muteCount++\n        } else if (Math.random() < parseFloat(muteProb)) {\n          muteStat = true\n          muteCount++\n        }\n      }\n    } // end random mute\n\n    let source = []\n    let master = 1.0\n\n    if (triplet) {\n      if (count % 3 !== 2) master = evenVol\n    } else {\n      if (count % 2 === 0) master = evenVol\n    }\n\n    if (currentPattern.type === 'drumkit') { // last note is always voice\n      for (let i = 0; i < currentPattern.pattern.length - 1; i++) {\n        const current = currentPattern.pattern[i]\n        if (current.values[count] === 0) continue\n\n        source[i] = context.createBufferSource()\n        source[i].buffer = sound[current.note]\n        source[i].connect(gainNode[i])\n        gainNode[i].connect(context.destination)\n        gainNode[i].gain.value =\n          master * parseInt(current.values[count], 10) / 9.0\n        source[i].start(deadline)\n      }\n    } // end drumkit\n\n    const lastIndex = currentPattern.pattern.length - 1\n\n    /* voice */\n    const current = currentPattern.pattern[lastIndex]\n    if (voiceOn && (current.note === 'voice') && (current.values[count] > 0)) {\n      source[lastIndex] = context.createBufferSource()\n      source[lastIndex].buffer = sound[voice + '_' + current.values[count]]\n      source[lastIndex].connect(gainNode[lastIndex])\n      gainNode[lastIndex].connect(context.destination)\n      if (!muteStat){\n        gainNode[lastIndex].gain.value = 0.5\n        source[lastIndex].start(deadline)\n      }\n    }\n\n    /* mute */\n    if (currentPattern.type === 'clicks') {\n      // console.log('clicks ' + metroSound)\n      for (let i = 0; i < lastIndex; i++) { source[i] = context.createBufferSource() }\n\n      if (metroSound === 'cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_higher']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_higher'] }\n      }\n      if (metroSound === 'cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_high'] }\n      }\n\n      if (metroSound === 'cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n\n      if (metroSound === 'cb4') {\n        source[0].buffer = sound['cowbell_low']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === 'cb5') {\n        source[0].buffer = sound['cowbell_lower']\n        source[1].buffer = sound['cowbell_lower']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '2cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_high'] }\n      }\n      if (metroSound === '2cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n      if (metroSound === '2cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === '2cb4') {\n        source[0].buffer = sound['cowbell_low']\n        source[1].buffer = sound['cowbell_lower']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '3cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n      if (metroSound === '3cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === '3cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '1cg1') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['highConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['highConga'] }\n      }\n      if (metroSound === '1cg2') {\n        source[0].buffer = sound['midConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['midConga'] }\n      }\n      if (metroSound === '1cg3') {\n        source[0].buffer = sound['lowConga']\n        source[1].buffer = sound['lowConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === '2cg1') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['midConga'] }\n      }\n      if (metroSound === '2cg2') {\n        source[0].buffer = sound['midConga']\n        source[1].buffer = sound['lowConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === '3cg') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === 'cv') {\n        source[0].buffer = sound['clave']\n        source[1].buffer = sound['clave']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['clave'] }\n      }\n      if (metroSound === 'hc') {\n        source[0].buffer = sound['handClap']\n        source[1].buffer = sound['handClap']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['handClap'] }\n      }\n\n      if (!muteStat) {\n        for (let i = 0; i < lastIndex; i++) {\n          let vol = parseInt(currentPattern.pattern[i].values[count], 10)\n          if (vol === 0) continue\n          source[i].connect(gainNode[i])\n          gainNode[i].connect(context.destination)\n          gainNode[i].gain.value = master * vol / 9.0\n          source[i].start(deadline)\n        }\n      } // end !muteStat\n    } // end clicks or drums\n\n    // next count\n    count = (count + 1) % numerator\n    if (count === 0) {\n      barCount++\n      if (this.state.restBars > 0) { this.setState({restBars: this.state.restBars - 1}) }\n    }\n    this.params.count = count\n    this.params.barCount = barCount\n    this.params.muteCount = muteCount\n    this.params.muteStat = muteStat\n\n    if (this.state.loopStat.playing && count === 0) { this.customPlay({target: {name: 'nextBar'}}) }\n  } // end playPattern\n\n  handleTimer (event) {\n    if (event.target.name === 'timer') {\n      this.params.timer = parseInt(event.target.value, 10)\n      this.setState({rest: this.params.timer})\n      return\n    }\n\n    if (event.target.name === 'barTimer') {\n      this.params.barTimer = parseInt(event.target.value, 10)\n      this.setState({restBars: this.params.barTimer})\n      return\n    }\n\n    if (event.target.name === 'startTimer' && this.params.timer > 0) {\n      this.timerEvent = timerClock.callbackAtTime(function (event) {\n        this.setState({rest: this.state.rest - 1})\n      }.bind(this), 1).repeat(1)\n\n      this.timeoutEvent = timerClock.setTimeout(function (event) {\n        this.startStopDrums({target: {name: 'stop'}})\n        this.setState({rest: this.params.timer})\n      }.bind(this), this.state.rest)\n\n      return\n    } // end startTimer\n\n    if (event.target.name === 'clearTimer' && this.params.timer > 0) {\n      if (this.timerEvent) this.timerEvent.clear()\n      if (this.timeoutEvent) this.timeoutEvent.clear()\n      return\n    } // end clearTimer\n\n    if (event.target.name === 'startBarTimer') {\n      return\n    }\n\n    if (event.target.name === 'clearBarTimer') {\n\n    }\n  } // end handleTimer()\n\n  handleMenu (event) {\n    if (event.target.name === 'language') {\n      if (this.state.ja === true) {\n        m = usText\n        this.setState({ja: false})\n      } else {\n        m = jaText\n        this.setState({ja: true})\n      }\n      return\n    }\n    if (event.target.name === 'showMore') {\n      this.setState({showMore: !this.state.showMore})\n      return\n    }\n\n    if (event.target.name === 'advancedUI') {\n      this.setState({showAdvanced: !this.state.showAdvanced})\n      return\n    }\n\n    if (event.target.name === 'drumsUI') {\n      this.setState({showDrums: !this.state.showDrums})\n      return\n    }\n\n    if (event.target.name === 'customLoopUI') {\n      this.setState({showCustomLoop: !this.state.showCustomLoop})\n      return\n    }\n\n    if (event.target.name === 'setListsUI') {\n      this.setState({showSetLists: !this.state.showSetLists})\n      return\n    }\n\n    if (event.target.name === 'songListUI') {\n      this.setState({showSongList: !this.state.showSongList})\n    }\n  } // end handleMenu()\n\n  handlePattern (event) {\n    if (event.target.name === 'metroOn') {\n      this.params.currentPattern =\n        loadedClickPatterns[this.state.clickPatternNo]\n      this.setState({metroOn: true, drumsOn: false})\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    }\n\n    if (event.target.name === 'metroSound') {\n      console.log(event.target.name)\n      this.setState({metroSound: event.target.value})\n      return\n    }\n\n    if (event.target.name === 'drumsOn') {\n      this.params.currentPattern = loadedDrumPatterns[this.state.drumPatternNo]\n      this.setState({metroOn: false, drumsOn: true})\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    }\n\n    if (event.target.name === 'voiceOn') {\n      this.setState({voiceOn: !this.state.voiceOn})\n      return\n    }\n\n    if (event.target.name === 'voice') {\n      this.setState({voice: event.target.value})\n      return\n    }\n\n // SongList operation\n    if (event.target.name === 'setBar') {\n      const current = event.target.value\n      this.params.currentPattern = current\n\n      if (current.triplet === undefined) {\n        this.params.triplet = false\n      } else this.params.triplet = current.triplet\n\n      if (current.swingVal === undefined) {\n        this.params.swing = false\n        current.swingVal = 1.5\n      } else this.params.swing = true\n      this.setState({swingVal: current.swingVal})\n\n      let num = this.findNumByName(current.name)\n      // console.log('NUM: ' + num)\n      if (num < 0) return\n      if (current.type === 'clicks') this.setState({clickPatternNo: num})\n      else if (current.type === 'drumkit') this.setState({drumPatternNo: num})\n\n      return\n    }\n\n    if ((event.target.name === 'drumPattern') ||\n       (event.target.name === 'clickPattern')) {\n      if (event.target.name === 'drumPattern') {\n        // console.log('drumPattern')\n        this.params.currentPattern =\n          loadedDrumPatterns[parseInt(event.target.value, 10)]\n        this.setState({drumsOn: true,\n          metroOn: false,\n          drumPatternNo: parseInt(event.target.value, 10)})\n      }\n\n      if (event.target.name === 'clickPattern') {\n        console.log('clickPattern: ' + event.target.value)\n        this.params.currentPattern =\n          loadedClickPatterns[parseInt(event.target.value, 10)]\n        this.setState({metroOn: true,\n          drumsOn: false,\n          clickPatternNo: parseInt(event.target.value, 10)})\n      }\n\n      if (this.params.currentPattern.triplet === undefined) {\n        this.params.triplet = false\n      } else this.params.triplet = this.params.currentPattern.triplet\n\n      if (this.params.currentPattern.swingVal === undefined) {\n        this.params.swing = false\n        this.params.currentPattern.swingVal = 1.5\n      } else this.params.swing = true\n\n      this.setState({swingVal: this.params.currentPattern.swingVal})\n      this.startStopDrums({target: {name: 'restart'}})\n    }\n  } // end handlePattern()\n\n  handleBpm (event) {\n    if (event.target.name === 'bpmFrac') {\n      let bpmFrac = parseInt(event.target.value, 10)\n      let newBpm = Math.floor(this.state.bpm) + 0.1 * bpmFrac\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpmStep') { // +-1\n      let newBpm = parseFloat(this.state.bpm, 10) +\n        parseInt(event.target.value, 10)\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpm_slider') { // slider\n      let newBpm = parseInt(event.target.value, 10) +\n        0.1 * parseInt(this.state.bpmFrac, 10)\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpm_set') { // actual process\n      // console.log('bpm_set: ' + event.target.value)\n      let newBpm = parseFloat(event.target.value, 10).toFixed(1)\n      if (this.state.playing) {\n        clock.timeStretch(context.currentTime, this.tickEvents,\n        this.state.bpm / newBpm)\n      }\n      this.setState(\n        {bpm: newBpm,\n          bpmFrac: Math.round(10 * (newBpm - Math.floor(newBpm)))}\n      )\n      return\n    } // end bpm_set\n\n//  Tempo tap: https://www.all8.com/tools/bpm.htm\n    if (event.target.name === 'tempo_tap') {\n      let timeSeconds = new Date()\n      let msecs = timeSeconds.getTime()\n\n      if ((msecs - this.tap.msecsPrevious) > 3000) { // timeout 3 sec\n        this.tap.count = 0\n      }\n\n      if (this.tap.count === 0) {\n        this.tap.msecsFirst = msecs\n        this.tap.count = 1\n      } else {\n        let newBpm = 60000 * this.tap.count / (msecs - this.tap.msecsFirst)\n        this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n        this.tap.count++\n      }\n      this.tap.msecsPrevious = msecs\n    }\n  } // end handleBpm()\n\n  handleAdvanced (event) {\n    if (event.target.name === 'increment') {\n      this.setState({increment: parseInt(event.target.value, 10)})\n      return\n    }\n\n    if (event.target.name === 'swing') {\n      if (event.target.value !== 15) {\n        let swingVal = parseFloat(event.target.value / 10, 10)\n        this.params.swing = true\n        this.setState({swingVal: swingVal})\n      } else {\n        this.params.swing = false\n        this.setState({swingVal: 1.5})\n      }\n\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    } // end swing\n\n    if (event.target.name === 'muteProb') {\n      this.setState({muteProb: parseFloat(event.target.value, 10).toFixed(1)})\n      return\n    }\n\n    if (event.target.name === 'perBars') {\n      this.setState({perBars: parseInt(event.target.value, 10)})\n      return\n    }\n\n    if (event.target.name === 'muteBars') {\n      this.setState({muteBars: parseInt(event.target.value, 10)})\n      return\n    }\n    if (event.target.name === 'evenVol') {\n      if (this.state.evenVol) { this.setState({evenVol: parseFloat(event.target.value)}) } else this.setState({evenVol: 1.0})\n    }\n  } // end handleAdvanced()\n\n  handleWindowClose (event) { // finishing clean up\n    this.startStopDrums({target: {name: 'stop'}})\n    this.saveSetLists()\n    clock.stop()\n    context.close()\n  }\n\n  findNumByName (name) {\n    for (let i = 0; i < loadedClickPatterns.length; i++) { if (loadedClickPatterns[i].name === name) return i }\n\n    for (let i = 0; i < loadedDrumPatterns.length; i++) { if (loadedDrumPatterns[i].name === name) return i }\n\n    return -1\n  }\n} // end App\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register () {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()\n"],"sourceRoot":""}