{"version":3,"sources":["bass.mp3","clave.mp3","cowbell_high.mp3","cowbell_higher.mp3","cowbell_low.mp3","cowbell_lower.mp3","cowbell_mid.mp3","crash.mp3","crashL.mp3","crashR.mp3","female_1.mp3","female_2.mp3","female_3.mp3","female_4.mp3","female_5.mp3","female_6.mp3","female_7.mp3","female_8.mp3","handClap.mp3","highConga.mp3","highTom.mp3","hihat.mp3","hihatClose.mp3","hihatFullOpen.mp3","hihatHalfOpen.mp3","lowConga.mp3","lowTom.mp3","male_1.mp3","male_2.mp3","male_3.mp3","male_4.mp3","male_5.mp3","male_6.mp3","male_7.mp3","male_8.mp3","maracas.mp3","midConga.mp3","midTom.mp3","openHihat.mp3","ride.mp3","rideCup.mp3","snare.mp3","snareBuzz.mp3","snareFlam.mp3","snareRim.mp3","snareClosedRim.mp3","snareOpenRim.mp3","tomHigh.mp3","tomMid.mp3","tomLow.mp3","buffer-loader.js","soundList.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","BufferLoader","context","urlList","callback","this","onload","bufferList","loadCount","prototype","loadBuffer","url","index","request","XMLHttpRequest","open","responseType","loader","decodeAudioData","response","buffer","length","alert","error","console","onerror","send","load","i","soundList","push","bass","clave","cowbell_high","cowbell_higher","cowbell_low","cowbell_lower","cowbell_mid","crash","crashL","crashR","female_1","female_2","female_3","female_4","female_5","female_6","female_7","female_8","handclap","highConga","highTom","hihat","hihatClose","hihatFullOpen","hihatHalfOpen","lowConga","lowTom","male_1","male_2","male_3","male_4","male_5","male_6","male_7","male_8","maracas","midConga","midTom","openHihat","ride","rideCup","snare","snareBuzz","snareFlam","snareRim","snareClosedRim","snareOpenRim","tomHigh","tomMid","tomLow","clock","timerClock","window","AudioContext","webkitAudioContext","gainNode","version","packageJSON","homepage","subversion","slice","jaText","messages","ja","usText","us","m","App","props","params","minBpm","maxBpm","numerator","denominator","default_clickPatternNo","default_drumPatternNo","timer","barTimer","muteCount","muteStat","muteBars","muteProb","cowbell","maleVoice","femaleVoice","currentPattern","swing","triplet","count","barCount","startTime","setLists","newListName","newSongName","loadedClickPatterns","default","loadedDrumPatterns","timerEvent","timeOutEvent","state","rest","restBars","playing","bpm","bpmFrac","metroOn","clickPatternNo","metroSound","drumsOn","drumPatternNo","voiceOn","voice","swingVal","evenVol","increment","perBars","showMore","showAdvanced","showSetLists","showCustomLoop","showSongList","loopTable","loopTableNewRow","bar","repeat","loopStat","seq","selectedSetList","selectedSong","name","setState","bind","startStopDrums","customPlay","handleMenu","handlePattern","handleBpm","handleTimer","handleAdvanced","handleSetLists","handleTable","playPattern","nextTick","handleWindowClose","saveSetLists","findNumByName","tickEvents","sound","tap","msecsFirst","msecsPrevious","savedSetLists","JSON","parse","localStorage","getItem","items","loadedSetListSample","addEventListener","createGain","inputFiles","replace","removeEventListener","saveLists","setItem","stringify","clickPatternOptions","map","e","value","key","drumPatternOptions","SwingValOptions","val","comm","IncrementOptions","setListsOptions","SetListsOptions","setListsRows","align","onChange","selectOp","SetListUI","className","border","type","checked","autoFocus","songListOptions","SongListOptions","SongListRows","width","song","table","SongListUI","Math","floor","parseFloat","AdvancedUI","prop","parseInt","swingStr","muteProb1","muteProb2","toFixed","evenNotes","min","max","step","loopTableRows","RepeatOptions","CustomLoopUI","d_a","onClick","rewind","defaultValue","color","metronome","drums","secs","bars","moreFeatures","hide","show","advanced","SetLists","SongList","Current","custom","href","target","rel","guide","event","beat","clear","splice","undefined","WAAClock","start","currentTime","callbackAtTime","deadline","tolerance","early","late","match","names","split","current","unshift","values","songItems","createBuffer","source","createBufferSource","connect","destination","log","setTimeout","selected","clickPmin","beatInd","beatDur","barDur","relativeTime","currentBar","offset","newBpm","random","master","pattern","note","gain","lastIndex","vol","timeoutEvent","showDrums","num","timeStretch","round","msecs","Date","getTime","stop","close","Component","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","render","document","getElementById","URL","process","origin","fetch","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"kysHAAAA,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0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","file":"static/js/main.1d836647.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bass.759662e7.mp3\";","module.exports = __webpack_public_path__ + \"static/media/clave.c5049490.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_high.e876331a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_higher.58d8ae2c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_low.67ff30fa.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_lower.608432b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cowbell_mid.a218f307.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crash.b2edd9d2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crashL.3431ec55.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crashR.f6a58428.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_1.061e8364.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_2.0132e11e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_3.7fbe20d1.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_4.d5c07573.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_5.23114b75.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_6.1abf57a8.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_7.b297aa70.mp3\";","module.exports = __webpack_public_path__ + \"static/media/female_8.879b851e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/handClap.a3e60700.mp3\";","module.exports = __webpack_public_path__ + \"static/media/highConga.cc856e06.mp3\";","module.exports = __webpack_public_path__ + \"static/media/highTom.3120d26a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.9335af77.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatClose.bcece98b.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatFullOpen.5e04228e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihatHalfOpen.c086d2ae.mp3\";","module.exports = __webpack_public_path__ + \"static/media/lowConga.5129e139.mp3\";","module.exports = __webpack_public_path__ + \"static/media/lowTom.9566d9cf.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_1.3de06eee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_2.0eee49b8.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_3.d55f1473.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_4.b88b2ea6.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_5.2acf0c9d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_6.945a42ee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_7.f6668c40.mp3\";","module.exports = __webpack_public_path__ + \"static/media/male_8.c39f060c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/maracas.79bbf5b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/midConga.82c31427.mp3\";","module.exports = __webpack_public_path__ + \"static/media/midTom.d737a0b0.mp3\";","module.exports = __webpack_public_path__ + \"static/media/openHihat.10b26924.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.d3d3470a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/rideCup.d2b083f3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.e4e49c88.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareBuzz.9f645de5.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareFlam.e944ca7c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareRim.d8349dcc.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareClosedRim.178c428f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snareOpenRim.6ca3fbc2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomHigh.716fe783.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomMid.37b4619d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomLow.96725c6d.mp3\";","/*\nhttps://www.html5rocks.com/ja/tutorials/webaudio/intro/js/buffer-loader.js\n*/\n\nexport default function BufferLoader (context, urlList, callback) {\n  this.context = context\n  this.urlList = urlList\n  this.onload = callback\n  //  this.bufferList = new Array();\n  this.bufferList = []\n  this.loadCount = 0\n}\n\nBufferLoader.prototype.loadBuffer = function (url, index) {\n  // Load buffer asynchronously\n  var request = new XMLHttpRequest()\n  request.open('GET', url, true)\n  request.responseType = 'arraybuffer'\n\n  var loader = this\n\n  request.onload = function () {\n    // Asynchronously decode the audio file data in request.response\n    loader.context.decodeAudioData(\n      request.response,\n      function (buffer) {\n        if (!buffer) {\n          alert('error decoding file data: ' + url)\n          return\n        }\n        loader.bufferList[index] = buffer\n        if (++loader.loadCount === loader.urlList.length) { loader.onload(loader.bufferList) }\n      },\n      function (error) {\n        console.error('decodeAudioData error', error)\n      }\n    )\n  }\n\n  request.onerror = function () {\n    alert('BufferLoader: XHR error')\n  }\n\n  request.send()\n}\n\nBufferLoader.prototype.load = function () {\n  for (var i = 0; i < this.urlList.length; ++i) { this.loadBuffer(this.urlList[i], i) }\n}\n","import bass from './bass.mp3'\nimport clave from './clave.mp3'\nimport cowbell_high from './cowbell_high.mp3'\nimport cowbell_higher from './cowbell_higher.mp3'\nimport cowbell_low from './cowbell_low.mp3'\nimport cowbell_lower from './cowbell_lower.mp3'\nimport cowbell_mid from './cowbell_mid.mp3'\nimport crash from './crash.mp3'\nimport crashL from './crashL.mp3'\nimport crashR from './crashR.mp3'\nimport female_1 from './female_1.mp3'\nimport female_2 from './female_2.mp3'\nimport female_3 from './female_3.mp3'\nimport female_4 from './female_4.mp3'\nimport female_5 from './female_5.mp3'\nimport female_6 from './female_6.mp3'\nimport female_7 from './female_7.mp3'\nimport female_8 from './female_8.mp3'\nimport handclap from './handClap.mp3'\nimport highConga from './highConga.mp3'\nimport highTom from './highTom.mp3'\nimport hihat from './hihat.mp3'\nimport hihatClose from './hihatClose.mp3'\nimport hihatFullOpen from './hihatFullOpen.mp3'\nimport hihatHalfOpen from './hihatHalfOpen.mp3'\nimport lowConga from './lowConga.mp3'\nimport lowTom from './lowTom.mp3'\nimport male_1 from './male_1.mp3'\nimport male_2 from './male_2.mp3'\nimport male_3 from './male_3.mp3'\nimport male_4 from './male_4.mp3'\nimport male_5 from './male_5.mp3'\nimport male_6 from './male_6.mp3'\nimport male_7 from './male_7.mp3'\nimport male_8 from './male_8.mp3'\nimport maracas from './maracas.mp3'\nimport midConga from './midConga.mp3'\nimport midTom from './midTom.mp3'\nimport openHihat from './openHihat.mp3'\nimport ride from './ride.mp3'\nimport rideCup from './rideCup.mp3'\nimport snare from './snare.mp3'\nimport snareBuzz from './snareBuzz.mp3'\nimport snareFlam from './snareFlam.mp3'\nimport snareRim from './snareRim.mp3'\nimport snareClosedRim from './snareClosedRim.mp3'\nimport snareOpenRim from './snareOpenRim.mp3'\nimport tomHigh from './tomHigh.mp3'\nimport tomMid from './tomMid.mp3'\nimport tomLow from './tomLow.mp3'\n\n// BEGIN\nvar soundList = []\nsoundList.push(bass)\nsoundList.push(clave)\nsoundList.push(cowbell_high)\nsoundList.push(cowbell_higher)\nsoundList.push(cowbell_low)\nsoundList.push(cowbell_lower)\nsoundList.push(cowbell_mid)\nsoundList.push(crash)\nsoundList.push(crashL)\nsoundList.push(crashR)\nsoundList.push(female_1)\nsoundList.push(female_2)\nsoundList.push(female_3)\nsoundList.push(female_4)\nsoundList.push(female_5)\nsoundList.push(female_6)\nsoundList.push(female_7)\nsoundList.push(female_8)\nsoundList.push(handclap)\nsoundList.push(highConga)\nsoundList.push(highTom)\nsoundList.push(hihat)\nsoundList.push(hihatClose)\nsoundList.push(hihatFullOpen)\nsoundList.push(hihatHalfOpen)\nsoundList.push(lowConga)\nsoundList.push(lowTom)\nsoundList.push(male_1)\nsoundList.push(male_2)\nsoundList.push(male_3)\nsoundList.push(male_4)\nsoundList.push(male_5)\nsoundList.push(male_6)\nsoundList.push(male_7)\nsoundList.push(male_8)\nsoundList.push(maracas)\nsoundList.push(midConga)\nsoundList.push(midTom)\nsoundList.push(openHihat)\nsoundList.push(ride)\nsoundList.push(rideCup)\nsoundList.push(snare)\nsoundList.push(snareBuzz)\nsoundList.push(snareFlam)\nsoundList.push(snareRim)\nsoundList.push(snareClosedRim)\nsoundList.push(snareOpenRim)\nsoundList.push(tomHigh)\nsoundList.push(tomMid)\nsoundList.push(tomLow)\n// END\n\nexport default soundList\n","import React, { Component } from 'react'\nimport './Metronome.css'\nimport BufferLoader from './buffer-loader'\nimport WAAClock from 'waaclock'\nimport messages from './language.json'\nimport packageJSON from '../package.json'\nimport loadedSetListSample from './setListSample.json'\nimport loadedDrumPatterns from './drumPatterns.json'\nimport loadedClickPatterns from './clickPatterns.json'\nimport soundList from './soundList.js'\n\n// global variable\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext\nvar context\nvar clock\nvar timerClock\nvar gainNode = []\n\nconst version = (packageJSON.homepage + packageJSON.subversion).slice(-10)\n // define in package.json\n// const early = 0.1\nconst early = 0.1\nconst late = 0.1\nconst jaText = messages.ja\nconst usText = messages.us\nvar m = usText\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n\n    this.params = {\n      minBpm: 30.0,\n      maxBpm: 360.0,\n      numerator: null,\n      denominator: null,\n      default_clickPatternNo: null,\n      default_drumPatternNo: null,\n      timer: 0,\n      barTimer: 0,\n\n      muteCount: 0,\n      muteStat: false,\n      muteBars: 0,\n      muteProb: 0.0,\n\n      cowbell: [],\n      maleVoice: [],\n      femaleVoice: [],\n      currentPattern: {},\n      swing: false,\n      triplet: false,\n      count: 0,\n      barCount: 0,\n      startTime: 0,\n      setLists: [],\n      newListName: '',\n      newSongName: ''\n    }\n\n    for (let i = 0; i < loadedClickPatterns.length; i++) {\n      if (loadedClickPatterns[i].default === true) {\n        this.params.default_clickPatternNo = i\n        break\n      }\n    }\n\n    this.params.currentPattern =\n      loadedClickPatterns[this.params.default_clickPatternNo]\n\n    for (let i = 0; i < loadedDrumPatterns.length; i++) {\n      if (loadedDrumPatterns[i].default === true) {\n        this.params.default_drumPatternNo = i\n        break\n      }\n    }\n\n    this.timerEvent = 0\n    this.timeOutEvent = 0\n\n    this.state = {\n      ja: false,\n      rest: 0,\n      restBars: 0,\n      playing: false,\n\n      bpm: 100,\n      bpmFrac: 0.0,\n      metroOn: true,\n      clickPatternNo: this.params.default_clickPatternNo, // default 4/4\n      metroSound: '3cb2',\n      drumsOn: false,\n      drumPatternNo: this.params.default_drumPatternNo,\n      voiceOn: false,\n      voice: 'female',\n      swingVal: 1.5,\n      evenVol: 1.0,\n      increment: 0,\n      perBars: 0,\n\n      showMore: false,\n      showAdvanced: false,\n      showSetLists: false,\n      showCustomLoop: false,\n      showSongList: false,\n      // for custom loop\n      loopTable: [],\n      loopTableNewRow: {\n        bar: loadedClickPatterns[this.params.default_clickPatternNo],\n        swingVal: 1.5,\n        repeat: 4},\n      loopStat: {playing: false, seq: 0, repeat: 0, bar: 0},\n\n      selectedSetList: {},\n      selectedSong: {name: 'none'} // default\n    } // end state\n\n    this.setState = this.setState.bind(this)\n    this.startStopDrums = this.startStopDrums.bind(this)\n    this.customPlay = this.customPlay.bind(this)\n    this.handleMenu = this.handleMenu.bind(this)\n    this.handlePattern = this.handlePattern.bind(this)\n    this.handleBpm = this.handleBpm.bind(this)\n    this.handleTimer = this.handleTimer.bind(this)\n    this.handleAdvanced = this.handleAdvanced.bind(this)\n    this.handleSetLists = this.handleSetLists.bind(this)\n    this.handleTable = this.handleTable.bind(this)\n    this.playPattern = this.playPattern.bind(this)\n    this.nextTick = this.nextTick.bind(this)\n    this.handleWindowClose = this.handleWindowClose.bind(this)\n    this.saveSetLists = this.saveSetLists.bind(this)\n    this.findNumByName = this.findNumByName.bind(this)\n\n    this.tickEvents = []\n    this.sound = {}\n\n/* Example is in sampleTable.json */\n\n    this.tap = {\n      count: 0,\n      msecsFirst: 0,\n      msecsPrevious: 0\n    }\n  } // end constructor\n\n  componentWillMount () { // before render()\n    const savedSetLists = JSON.parse(localStorage.getItem('savedSetLists'))\n\n    if (savedSetLists === null) {\n      this.params.setLists.push({name: 'default', items: []}, loadedSetListSample)\n    } else {\n      for (let i = 0; i < savedSetLists.length; i++) {\n        this.params.setLists.push(savedSetLists[i])\n      }\n      this.params.setLists.push(loadedSetListSample)\n    }\n    this.setState({selectedSetList: this.params.setLists[0]})\n  }\n\n  componentDidMount () {\n    window.addEventListener('beforeunload', this.handleWindowClose)\n    context = new window.AudioContext()\n\n    for (let i = 0; i < 10; i++) { gainNode[i] = context.createGain() }\n\n    let inputFiles = []\n    for (let i = 0; i < soundList.length; i++) {\n      // inputFiles[i] = soundList[i] + '.mp3'\n      inputFiles[i] = soundList[i]\n      soundList[i] = soundList[i].replace(/\\/.*\\/(.*)\\..*\\.mp3/, '$1')\n      // console.log(soundList[i])\n    }\n\n    let bufferLoader = new BufferLoader(\n      context, inputFiles,\n      function (bufferList) {\n        for (let i = 0; i < soundList.length; i++) { this.sound[soundList[i]] = bufferList[i] }\n      }.bind(this)\n    )\n\n    bufferLoader.load()\n\n    // clock = new WAAClock(context)\n    // timerClock = clock\n    // clock.start()\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('beforeunload', this.handleWindowClose)\n  }\n\n  saveSetLists () {\n    if (this.params.setLists.length > 0) {\n      let saveLists = []\n      for (let i = 0; i < this.params.setLists.length; i++) {\n        if (this.params.setLists[i].name !== 'sample') { saveLists.push(this.params.setLists[i]) }\n      }\n      // console.log('save ' + saveLists.length + ' items')\n      if (saveLists.length > 0) {\n        localStorage.setItem('savedSetLists', JSON.stringify(saveLists))\n      }\n    }\n  }\n\n  render () {\n    const {ja, loopTable, loopTableNewRow, loopStat,\n      metroOn, clickPatternNo, metroSound, drumsOn, drumPatternNo,\n      voiceOn, voice, playing, bpm, bpmFrac,\n      increment, perBars, muteBars, muteProb,\n      rest, restBars, swingVal, evenVol, showMore,\n      showAdvanced, showSetLists, showSongList,\n      showCustomLoop, selectedSetList, selectedSong} = this.state\n\n    const {minBpm, maxBpm, setLists} = this.params\n\n    const {startStopDrums, customPlay,\n           handleMenu, handlePattern, handleBpm, handleTimer,\n           handleAdvanced, handleTable, handleSetLists} = this\n\n    const clickPatternOptions = loadedClickPatterns.map((e, index) => {\n      return (<option value={index} key={index}>\n        {('0' + index).slice(-2)}: {e.name}</option>)\n    })\n\n    const drumPatternOptions = loadedDrumPatterns.map((e, index) => {\n      return (<option value={index} key={index}>\n        {('00' + index).slice(-3)}: {e.name}</option>)\n    })\n\n/* Set swing value select options */\n    const swingValOptions = [\n      {val: 5}, {val: 6}, {val: 7}, {val: 8}, {val: 9}, {val: 10},\n      {val: 15, comm: '(Str)'},\n      {val: 16}, {val: 17}, {val: 18, comm: '(Lt)'},\n      {val: 19}, {val: 20, comm: '(Swg)'},\n      {val: 21}, {val: 22, comm: '(Hvy)'},\n      {val: 23}, {val: 24}, {val: 25}\n    ]\n    const SwingValOptions = swingValOptions.map(function (e, index) {\n      return (<option key={index} value={e.val}>{e.val / 10}{e.comm}</option>)\n    })\n    /* increment options */\n    const incrementOptions = [\n      -10, -9, -8, -7, -6, -5, -4, -3, -2, -1,\n      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\n    ]\n    const IncrementOptions = incrementOptions.map(function (e, index) {\n      return (<option key={index} value={e}>{e}</option>)\n    })\n\n    /* SetList UI (conditionally shown) */\n    let setListsOptions = []\n    for (let i = 0; i < setLists.length; i++) { setListsOptions.push(i) }\n\n    const SetListsOptions = setListsOptions.map(function (e, index) {\n      return (\n        <option key={index} value={'move:' + e}>\n         move after {('00' + e).slice(-2)}</option>)\n    })\n\n    const setListsRows = setLists.map(function (e, index) {\n      return (<tr key={'tr:' + index}>\n        <td align='right'>\n          <select name={'selectList:' + index} onChange={handleSetLists}>\n            <option key='none' value='none'>({m.selectOp})</option>\n            <option key='select' value='select'>select this</option>\n            <option key='top' value='top'>move to top</option>\n            {SetListsOptions}\n            <option key='delete' value='delete'>delete this</option>\n          </select></td>\n        <td align='right'>{('00' + index).slice(-2)}</td>\n        <td align='left'>{e.name}</td>\n      </tr>)\n    })\n\n    function SetListUI (props) {\n      return (<div className='table'>\n        <table border='3'>\n          <tbody>\n            <tr><th>sel/mov/del</th><th>seq</th><th>list name</th></tr>\n            {setListsRows}\n            <tr>\n              <td align='right' className='radioButton'>add\n          <input name='addList' type='radio'\n            checked={false} onChange={handleSetLists} /></td>\n              <td align='right'>new</td>\n              <td align='left'>\n                <span className='text'>\n                  <input type='text' name='newList'\n                    autoFocus={false} onChange={handleSetLists} />\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>)\n    }\n\n    /* songList */\n    let songListOptions = []\n\n    for (let i = 0; i < selectedSetList.items.length; i++) { songListOptions.push(i) }\n\n    const SongListOptions = songListOptions.map(function (e, index) {\n      return (\n        <option key={index} value={'move:' + e}>\n          move after {('00' + e).slice(-2)}</option>)\n    })\n\n    const SongListRows = selectedSetList.items.map(function (e, index) {\n      return (<tr key={'tr:' + index}>\n        <td align='right'>\n          <select name={'selectSong:' + index} onChange={handleSetLists}>\n            <option key='none' value='none'>({m.selectOp})</option>\n            <option key='select' value='select'>select this</option>\n            <option key='top' value='top'>move to top</option>\n            {SongListOptions}\n            <option key='delete' value='delete'>delete this</option>\n          </select></td>\n        <td align='right'>{('00' + index).slice(-2)}</td>\n        <td align='left' width='150'>{e.song}</td>\n        <td align='right'>{e.bpm}</td>\n        <td align='right'>{e.table ? 'loop' : 'bar' }</td>\n      </tr>)\n    })\n\n    function SongListUI (props) {\n      return (<div className='table'>\n        <table border='3'>\n          <tbody>\n            <tr><th>sel/mov/del</th><th>seq</th>\n              <th>song name</th><th>bpm</th>\n              <th>type</th></tr>\n            {SongListRows}\n            <tr>\n              <td align='center' className='radioButton'>add current<br />\n         bar<input name='addSong'\n           type='radio' checked={false} value='bar'\n           onChange={handleSetLists} /><br />\n         or loop<input name='addSong' type='radio' value='loop'\n           checked={false} onChange={handleSetLists} />\n              </td>\n              <td align='right'>new</td>\n              <td align='left' className='text'><input name='newSong'\n                type='text' onChange={handleSetLists} /></td>\n              <td align='right'>{Math.floor(bpm) + parseFloat(0.1 * bpmFrac, 10)}</td>\n              <td>(choose)</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>)\n    }\n\n    function AdvancedUI (prop) {\n      return (<span>\n        {m.swing}: &nbsp;\n        <span className='selector'>\n          <select name='swing' value={parseInt(swingVal * 10, 10)}\n            onChange={handleAdvanced}>{SwingValOptions}</select>\n        </span>\n        {m.swingStr}\n        <br />\n        <span className='selector'>\n          {m.increment}: &nbsp;\n       <select name='increment' value={increment}\n         onChange={handleAdvanced}>{IncrementOptions}\n       </select> bpm\n       </span>\n         /\n        <span className='selector'>\n          <select name='perBars' value={perBars} onChange={handleAdvanced}>\n            <option value='0'>off</option> <option value='1'>1</option>\n            <option value='2'>2</option> <option value='4'>4</option>\n            <option value='8'>8</option> <option value='12'>12</option>\n            <option value='16'>16</option>\n          </select>\n          {m.perBars}</span><br />\n        <span className='selector'>\n          {m.muteBars}: &nbsp;\n         <select name='muteBars' value={muteBars} onChange={handleAdvanced}>\n           <option value='0'>off</option> <option value='1'>1</option>\n           <option value='2'>2</option> <option value='4'>4</option>\n           <option value='8'>8</option> <option value='12'>12</option>\n           <option value='16'>16</option>\n         </select>\n        </span>\n        {m.muteProb1}, {m.muteProb2}\n        <span className='selector'>\n          <select name='muteProb' value={parseFloat(muteProb, 10).toFixed(1)} onChange={handleAdvanced}>\n            <option value='0.0'>0.0</option> <option value='0.1'>0.1</option>\n            <option value='0.2'>0.2</option> <option value='0.3'>0.3</option>\n            <option value='0.4'>0.4</option> <option value='0.5'>0.5</option>\n            <option value='0.6'>0.6</option> <option value='0.7'>0.7</option>\n            <option value='0.8'>0.8</option> <option value='0.9'>0.9</option>\n            <option value='1.0'>1.0</option>\n          </select>\n        </span>\n        <br />\n        <span className='slider'>\n          {m.evenNotes}: {evenVol.toFixed(2)} <input type='range' name='evenVol'\n            min='0.0' max='1.0' value={evenVol} step='0.01'\n            onChange={handleAdvanced} />\n        </span>\n      </span>)\n    } // end AdvancedUI\n\n/*\n    function DrumsUI(props){\n      return(<span>Not implemented yet</span>)\n    }\n*/\n\n /* Custom Loop UI (conditinally shown) */\n    const loopTableRows = loopTable.map(function (e, index) {\n      return (<tr key={index}>\n        <td align='right' className='radioButton'>\n          d<input type='radio' name='loopDel' value={index}\n            checked={false} onChange={handleTable} /></td>\n        <td align='right'>{index}</td>\n        <td align='right'>{e.bar.name}</td>\n        <td align='right'>{e.repeat}</td>\n      </tr>)\n    })\n\n    const repeatOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n    const RepeatOptions = repeatOptions.map(function (e, index) {\n      return (<option key={index} value={e}>{e}</option>)\n    })\n\n    function CustomLoopUI (props) {\n      return (<div>\n      --- seq/rep/bar: {('00' + loopStat.seq).slice(-2)}\n               /{('00' + loopStat.repeat).slice(-2)}\n               /{('00' + loopStat.bar).slice(-3)}\n        <br />\n        <b>{m.d_a}</b>&nbsp;\n        <span>\n          <button name='startLoop' onClick={customPlay}>\n            {loopStat.playing ? 'Stop' : 'Start'}</button></span>\n        / <span className='loopButton'>\n          <button name='rewindLoop' onClick={customPlay}>\n            {m.rewind}</button>\n        </span>\n        <br />\n        <div className='table'>\n          <table border='3'>\n            <tbody>\n              <tr><th>d/a</th><th>seq</th>\n                <th>pattern</th><th>repeat</th></tr>\n              {loopTableRows}\n              <tr><td align='right' className='radioButton'>\n      metro\n      <input type='radio' name='loopAdd' value='click' checked={false}\n        onChange={handleTable} />\n                <br />\n      drum\n      <input type='radio' name='loopAdd' value='drum' checked={false}\n        onChange={handleTable} />\n              </td>\n                <td align='right'>add</td>\n                <td align='right' className='selector'>\n                  <select name='loopAddClickPattern' value={clickPatternNo}\n                    onChange={handleTable}>\n                    {clickPatternOptions}</select><br />\n                  <select name='loopAddDrumPattern' value={drumPatternNo}\n                    onChange={handleTable}>\n                    {drumPatternOptions}</select><br />\n                </td>\n                <td align='right' className='selector'><span>\n                  <select name='loopRepeat'\n                    defaultValue={loopTableNewRow.repeat}\n                    onChange={handleTable}>{RepeatOptions}</select>\n                </span></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>)\n    }\n\n/// //////////// UI menus\n    return (\n      <div className='metronome'>\n      KG's Metronome2 &nbsp; <font color='blue'>Lang: </font>\n        <span className='small-button'>\n          <button name='language' onClick={handleMenu}>\n            {ja ? 'US' : 'JP'}</button>&nbsp;\n        </span>\n        Play: <button name='startStop' onClick={startStopDrums}>\n          {playing ? 'Stop' : 'Start'}</button>\n        <hr />\n        <span className='selector'>\n          <input name='metroOn' type='checkbox'\n            checked={metroOn} onChange={handlePattern} />\n          {m.metronome}: <select name='clickPattern' value={clickPatternNo}\n            onChange={handlePattern}>\n            {clickPatternOptions}\n          </select>\n        </span> &nbsp;\n        {m.sound}:&nbsp;\n        <span className='selector'>\n          <select name='metroSound' value={metroSound} onChange={handlePattern}>\n            <option value='cb1'>cowbell1</option>\n            <option value='cb2'>cowbell2</option>\n            <option value='cb3'>cowbell3</option>\n            <option value='cb4'>cowbell4</option>\n            <option value='cb5'>cowbell5</option>\n            <option value='2cb1'>2cowbell1</option>\n            <option value='2cb2'>2cowbell2</option>\n            <option value='2cb3'>2cowbell3</option>\n            <option value='2cb4'>2cowbell4</option>\n            <option value='3cb1'>3cowbell1</option>\n            <option value='3cb2'>3cowbell2</option>\n            <option value='3cb3'>3cowbell3</option>\n            <option value='1cg1'>1conga1</option>\n            <option value='1cg2'>1conga2</option>\n            <option value='1cg3'>1conga3</option>\n            <option value='2cg1'>2conga1</option>\n            <option value='2cg2'>2conga2</option>\n            <option value='3cg'>3conga</option>\n            <option value='cv'>clave</option>\n            <option value='hc'>handClap</option>\n          </select>\n        </span>\n        <br />\n        <span className='selector'>\n          <input type='checkbox' name='drumsOn' checked={drumsOn}\n            onChange={handlePattern} />\n          {m.drums}: <select name='drumPattern' value={drumPatternNo}\n            onChange={handlePattern}>\n            {drumPatternOptions}\n          </select>\n        </span>&nbsp;\n        <input type='checkbox' name='voiceOn'\n          checked={voiceOn} onChange={handlePattern} />\n        {m.voice}: <select name='voice' value={voice} onChange={handlePattern}>\n          <option value='male' >male</option>\n          <option value='female'>female</option>\n        </select>\n        <hr />\n        <span className='number'>\n        BPM({minBpm}-{maxBpm}): &nbsp; {('0' + Math.floor(bpm)).slice(-3)}.\n        <span className='selector'>\n          <select name='bpmFrac' value={bpmFrac}\n            onChange={handleBpm}>\n            <option value='0'>0</option> <option value='1'>1</option>\n            <option value='2'>2</option> <option value='3'>3</option>\n            <option value='4'>4</option> <option value='5'>5</option>\n            <option value='6'>6</option> <option value='7'>7</option>\n            <option value='8'>8</option> <option value='9'>9</option>\n          </select></span>\n        &nbsp; &nbsp; &nbsp; &nbsp;\n        </span>\n        <span className='small-button'>\n          <button name='tempo_tap' onClick={handleBpm}>\n            {m.tap}</button></span>&nbsp;\n        <br />\n        <span className='tinyButton'>\n          <button name='bpmStep'\n            value='-1' onClick={handleBpm}>-</button></span>\n        <span className='bpm-slider'>\n          <input type='range' name='bpm_slider'\n            min={minBpm} max={maxBpm} value={bpm} step='1.0'\n            onChange={handleBpm} />\n        </span>\n        <span className='tinyButton'>\n          <button name='bpmStep'\n            value='1' onClick={handleBpm}>+</button></span>\n        <hr />\n        {m.timer}: &nbsp;\n     <span className='selector'>\n       {('00' + rest).slice(-3)}/\n     <select name='timer' defaultValue='0' onChange={handleTimer}>\n       <option value='0'>off</option> <option value='30'>30</option>\n       <option value='60'>60</option> <option value='90'>90</option>\n       <option value='120'>120</option> <option value='180'>180</option>\n       <option value='240'>240</option> <option value='300'>300</option>\n       <option value='600'>600</option> </select>({m.secs}),&nbsp;\n     </span>\n        <span className='selector'>\n          {('00' + restBars).slice(-3)}/\n  <select name='barTimer' defaultValue='0' onChange={handleTimer}>\n    <option value='0'>off</option> <option value='12'>12</option>\n    <option value='16'>16</option> <option value='24'>24</option>\n    <option value='32'>32</option> <option value='64'>64</option>\n    <option value='128'>128</option> <option value='256'>256</option>\n  </select> ({m.bars})</span><hr />\n        {m.moreFeatures}: <span className='loopButton'>\n          <button name='showMore' onClick={handleMenu}>\n            {showMore ? m.hide : m.show} {/* no {} for m.hide,show */}\n          </button></span>\n\n        {showMore ? (<span><hr />\n          {m.advanced}: <span className='loopButton'>\n            <button name='advancedUI' onClick={handleMenu}>\n              {showAdvanced ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span><br />\n          {showAdvanced ? (<span><AdvancedUI /></span>) : ''}\n          <hr /><span className='loopButton'>\n            {m.SetLists}: <button name='setListsUI' onClick={handleMenu}>\n              {showSetLists ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span>&nbsp;\n          <span className='loopButton'>\n            {m.SongList}: <button name='songListUI' onClick={handleMenu}>\n              {showSongList ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button>\n          </span><br />\n          {m.Current}: <b>(List) {selectedSetList.name} :\n        (Song) {selectedSong.song} :\n        (ptn) {selectedSong.bar\n               ? selectedSong.bar.name : 'loop'} :\n        (bpm) {selectedSong.bpm}</b><br />\n          {showSetLists ? <SetListUI /> : ''}\n          {showSongList ? <SongListUI /> : ''}\n          <hr />\n          <span className='loopButton'>\n            {m.custom}: <button name='customLoopUI' onClick={handleMenu}>\n              {showCustomLoop ? m.hide : m.show} {/* no {} for m.hide,show */}\n            </button></span>\n          <br />{showCustomLoop ? <CustomLoopUI /> : ''}\n\n        </span>) : ''}\n\n        <hr />\n      (Version: {version}) <a href={m.url} target='_blank' rel='noopener noreferrer'>{m.guide}</a><br />\n        <hr />\n      </div>\n    )\n  } // end render()\n\n  customPlay (event) {\n    const {loopTable} = this.state\n    let {loopStat} = this.state\n    if (loopTable.length <= 0) return\n\n    if (event.target.name === 'startLoop') {\n      this.startStopDrums({target: {name: 'stop'}}) // stop the metronome\n      if (loopStat.playing) {\n        this.customPlay({target: {name: 'stop'}})\n      } else {\n        loopStat.seq = 0\n        loopStat.bar = 0\n        loopStat.repeat = 1\n        this.setState({loopStat: loopStat})\n        this.customPlay({target: {name: 'start'}})\n        loopStat.playing = true\n      }\n      this.setState({loopStat: loopStat})\n\n      return\n    }\n\n    if (event.target.name === 'rewindLoop') {\n      this.customPlay({target: {name: 'stop'}})\n      loopStat.seq = 0\n      loopStat.repeat = 0\n      loopStat.bar = 0\n      this.setState({loopStat: loopStat})\n      return\n    }\n\n    if (event.target.name === 'stop') {\n      for (let beat = 0; beat < this.tickEvents.length; beat++) { this.tickEvents[beat].clear() }\n      this.tickEvents.splice(0, this.tickEvents.length)\n      loopStat.playing = false\n      this.setState({loopStat: loopStat})\n      return\n    }\n\n    if (event.target.name === 'start') {\n     if (clock === undefined) {\n       clock = new WAAClock(context)\n       timerClock = clock\n       clock.start()\n     }\n      this.customPlay({target: {name: 'nextBar'}})\n      return\n    }\n\n    if (event.target.name === 'nextBar') {\n      if (loopStat.bar === 0 ||\n         loopStat.repeat === loopTable[loopStat.seq].repeat) { // next seq\n        if (loopStat.bar > 0) loopStat.seq++\n        if (loopStat.seq === loopTable.length) loopStat.seq = 0\n\n        loopStat.repeat = 1\n        let {bar} = loopTable[loopStat.seq]\n        this.params.currentPattern = bar\n        this.params.numerator = bar.numerator\n        this.params.denominator = bar.denominator\n        this.params.triplet = bar.triplet\n        if (bar.swingVal !== undefined) {\n          this.setState({swingVal: bar.swingVal})\n          this.params.swing = true\n        } else {\n          this.setState({swingVal: 1.5})\n          this.params.swing = false\n        }\n      } else loopStat.repeat++\n\n      if (loopStat.bar === 0) { this.params.startTime = context.currentTime } else { this.params.startTime = this.params.nextTick }\n\n      this.params.count = 0\n      for (let beat = 0; beat < this.params.numerator; beat++) {\n        event = clock.callbackAtTime(\n          function (event) {\n            this.playPattern(event.deadline)\n          }.bind(this),\n          this.nextTick(beat)\n        ).tolerance({early: early, late: late})\n        this.tickEvents[beat] = event\n      } // end for\n\n      loopStat.bar++\n      this.setState({loopStat: loopStat})\n      this.params.nextTick = this.nextTick(this.params.numerator) // next\n    } // end nextBar\n\n  } // end customPlay\n\n  handleTable (event) {\n    const {loopTable, loopTableNewRow} = this.state\n//    let {loopTableNewRow} = this.state\n\n    if (event.target.name === 'setLoopTable') {\n      this.setState({loopTable: event.target.value})\n      return\n    }\n\n    if (event.target.name === 'loopDel') {\n      loopTable.splice(event.target.value, 1)\n      this.setState({loopTable: loopTable})\n      return\n    }\n\n    if (event.target.name === 'loopAdd') {\n      if (event.target.value === 'drum') {\n        loopTableNewRow.bar =\n          loadedDrumPatterns[this.state.drumPatternNo]\n      } else if (event.target.value === 'click') {\n        loopTableNewRow.bar =\n          loadedClickPatterns[this.state.clickPatternNo]\n      }\n\n      loopTable.push({bar: loopTableNewRow.bar,\n        repeat: loopTableNewRow.repeat})\n      this.setState({loopTable: loopTable})\n      return\n    }\n\n    if (event.target.name === 'loopAddClickPattern') {\n      let clickPatternNo = parseInt(event.target.value, 10)\n      this.setState({clickPatternNo: clickPatternNo})\n      return\n    }\n\n    if (event.target.name === 'loopAddDrumPattern') {\n      let drumPatternNo = parseInt(event.target.value, 10)\n      this.setState({drumPatternNo: drumPatternNo})\n      return\n    }\n\n    if (event.target.name === 'loopRepeat') {\n      loopTableNewRow.repeat = parseInt(event.target.value, 10)\n      this.setState({loopTableNewRow: loopTableNewRow})\n    }\n  } // end handleTable\n\n  handleSetLists (event) {\n/*\n   (ref) https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n*/\n    /* handle setLists */\n    if (event.target.name.match(/^selectList:/)) {\n      let names = event.target.name.split(':')\n      if (event.target.value === 'select') {\n//        console.log('setLists.length:' + this.params.setLists.length)\n//        console.log(parseInt(names[1],10) + ' selected')\n        this.params.selectedSetList =\n         this.params.setLists[parseInt(names[1], 10)]\n        this.setState({\n          selectedSetList: this.params.setLists[parseInt(names[1], 10)],\n          selectedSong: {song: 'none'},\n          showSetLists: false,\n          showSongList: true})\n        return\n      }\n\n      if (event.target.value === 'top') {\n        // console.log(names[1] + ' move to top')\n        let current = this.params.setLists[parseInt(names[1], 10)]\n        this.params.setLists.splice(parseInt(names[1], 10), 1)\n        this.params.setLists.unshift(current)\n        this.setState({showSetLists: true})\n        return\n      }\n\n      if (event.target.value.match(/^move/)) {\n        let values = event.target.value.split(':')\n        let current = this.params.setLists[parseInt(names[1], 10)]\n        // console.log(names[1] + ' move after ' + values[1])\n        this.params.setLists.splice(parseInt(values[1], 10) + 1, 0, current)\n        if (parseInt(values[1], 10) < parseInt(names[1], 10)) { this.params.setLists.splice(parseInt(names[1], 10) + 1, 1) } else if (parseInt(values[1], 10) > parseInt(names[1], 10)) { this.params.setLists.splice(parseInt(names[1], 10), 1) } else {}// console.log('no effect')\n\n        this.saveSetLists()\n        this.setState({showSetLists: true})\n        return\n      }\n\n      if (event.target.value === 'delete') {\n        // console.log(names[1] + ' delete')\n        this.params.setLists.splice(names[1], 1)\n        this.saveSetLists()\n        this.setState({showSetLists: true})\n        return\n      }\n    }\n\n    if (event.target.name === 'addList') {\n      this.params.setLists.push({name: this.params.newListName, items: []})\n      this.saveSetLists()\n      this.setState({showSetLists: true})\n      return\n    }\n\n    if (event.target.name === 'newList') {\n      this.params.newListName = event.target.value\n      return\n    }\n\n    /* handle songs */\n    const songItems = this.state.selectedSetList.items\n\n    if (event.target.name.match(/^selectSong:/)) {\n      let names = event.target.name.split(':')\n\n      if (event.target.value === 'select') {\n        // console.log(names[1] + ' selected')\n        let song = songItems[parseInt(names[1], 10)]\n        this.setState({selectedSong: song, showSongList: false})\n        // this.setState({selectedSong: song})\n\n        if (song.bar !== undefined) { // HERE\n          this.handlePattern({target: {name: 'setBar', value: song.bar}})\n          this.handleBpm({target: {name: 'bpm_set',\n            value: parseFloat(song.bpm, 10)}})\n          return\n        }  // end bar pattern\n\n        if (song.table !== undefined) {\n          this.state.loopTable.splice(0, this.state.loopTable.length) // clear\n          this.handleBpm(\n            {target: {name: 'bpm_set',\n              value: parseFloat(song.bpm, 10)}}\n          )\n          this.handleTable({target: {name: 'setLoopTable', value: song.table}})\n          this.setState({showCustomLoop: true})\n          return\n        } // end if song.type === 'loop'\n      } // end if 'select'\n\n      if (event.target.value === 'top') {\n        let current = songItems[parseInt(names[1], 10)]\n        songItems.splice(parseInt(names[1], 10), 1)\n        songItems.unshift(current)\n        // console.log(names[1] + ' move to top')\n        this.setState({showSongList: true})\n        return\n      } // end top\n\n      if (event.target.value.match(/^move/)) {\n        let values = event.target.value.split(':')\n        let current = songItems[parseInt(names[1], 10)]\n        songItems.splice(parseInt(values[1], 10) + 1, 0, current)\n        if (parseInt(values[1], 10) < parseInt(names[1], 10)) { songItems.splice(parseInt(names[1], 10) + 1, 1) } else if (parseInt(values[1], 10) > parseInt(names[1], 10)) { songItems.splice(parseInt(names[1], 10), 1) } else {} // console.log('no effect')\n        this.setState({showSongList: true})\n        return\n      } // end move\n\n      if (event.target.value === 'delete') {\n        // console.log(names[1] + ' delete')\n        songItems.splice(parseInt(names[1], 10), 1)\n        this.saveSetLists()\n        this.setState({showSongList: true})\n        return\n      }\n    }\n\n    if (event.target.name === 'addSong') {\n      if (event.target.value === 'bar') {\n        // console.log('addSong preset')\n        this.state.selectedSetList.items.push({\n          song: this.params.newSongName,\n          bar: this.params.currentPattern,\n          bpm: parseFloat(this.state.bpm, 10).toFixed(1)})\n      }\n\n      if (event.target.value === 'loop') {\n        // console.log('addSong loop')\n        if (this.state.loopTable.length > 0) {\n          this.state.selectedSetList.items.push({\n            song: this.params.newSongName,\n            table: this.state.loopTable,\n            bpm: parseFloat(this.state.bpm, 10).toFixed(1)})\n        } else {} // console.log('addSong loop is empty')\n      } // end addSong\n\n      this.saveSetLists()\n      this.setState({showSongList: true})\n      return\n    }\n\n    if (event.target.name === 'newSong') {\n      this.params.newSongName = event.target.value\n    }\n  } // end handleSetLists\n\n  startStopDrums (event) {\n// Unlock iOS \n     let buffer = context.createBuffer(1,1,22050); \n     let source = context.createBufferSource();\n     source.buffer = buffer;\n     source.connect (context.destination);\n     source.start();\n// End unlock\n    if (event.target.name === 'startStop') {\n      if (this.state.loopStat.playing) {\n        this.customPlay({target: {name: 'stop'}})\n      }\n\n      if (this.state.playing) {\n        this.startStopDrums({target: {name: 'stop'}})\n      } else {\n        this.startStopDrums({target: {name: 'start'}})\n      }\n      this.setState({playing: !this.state.playing})\n    }\n\n/* actual process */\n    if (event.target.name === 'stop') {\n      for (let beat = 0; beat < this.tickEvents.length; beat++) { this.tickEvents[beat].clear() }\n      this.tickEvents.splice(0, this.tickEvents.length)\n      this.handleTimer({target: {name: 'clearTimer'}})\n      return\n    }\n\n    if (event.target.name === 'start') {\n      if (clock === undefined){\n       clock = new WAAClock(context)\n       timerClock = clock\n       clock.start()\n      }\n      const selected = this.params.currentPattern\n      // console.log('start with: ' + selected.name)\n      this.params.numerator = selected.numerator\n      this.params.denominator = selected.denominator\n\n      let clickPmin = this.state.bpm * (this.params.denominator / 4)\n\n      this.params.count = 0\n      this.params.startTime = context.currentTime\n      for (let beat = 0; beat < this.params.numerator; beat++) {\n        event = clock.callbackAtTime(\n           function (event) {\n             this.playPattern(event.deadline)\n           }.bind(this),\n          this.nextTick(beat)\n        ).repeat((this.params.numerator * 60.0) / clickPmin)\n         .tolerance({early: early, late: late}) // tight early tolerance\n        this.tickEvents[beat] = event\n      } // end for\n\n      this.handleTimer({target: {name: 'startTimer'}})\n      return\n    } // end start\n\n    if (event.target.name === 'restart' && this.state.playing) {\n      console.log('restart')\n      this.startStopDrums({target: {name: 'stop'}})\n      clock.setTimeout(function (event) {\n        this.startStopDrums({target: {name: 'start'}})\n      }.bind(this), 0.02)\n       .tolerance({early: early, late: late}) // tight early tolerance\n    } // end restart\n  } // end startStopDrums()\n\n// https://github.com/sebpiq/WAAClock/blob/master/demos/beatSequence.js\n  nextTick (beatInd) {\n    const beatDur = 60.0 / (this.state.bpm * this.params.denominator / 4)\n    const barDur = beatDur * this.params.numerator\n\n    const currentTime = context.currentTime\n    const relativeTime = Math.max(0, currentTime - this.params.startTime)\n    var currentBar = Math.floor(relativeTime / barDur)\n\n    let offset = 0\n    if (this.params.swing && (beatInd % 2) === 1) {\n      offset = (this.state.swingVal - 1.5) / 1.5 * beatDur\n    }\n\n    return this.params.startTime + offset +\n           currentBar * barDur + beatInd * beatDur\n  }\n\n  playPattern (deadline) {\n    const sound = this.sound\n    const {bpm, restBars, metroSound, voiceOn, voice, increment,\n           perBars, muteBars, muteProb, evenVol} = this.state\n    const {maxBpm, minBpm, barTimer, currentPattern, numerator,\n           triplet} = this.params\n    let {muteCount, muteStat, count, barCount} = this.params\n\n    // bar timer\n    if (barTimer > 0 && restBars <= 0) {\n      this.startStopDrums({target: {name: 'stop'}})\n      this.setState({playing: false, restBars: barTimer})\n      return\n    }\n\n    // automatic bpm increment\n    if ((perBars > 0) && (count === 0) && (barCount > 0) &&\n        (barCount % perBars) === 0) {\n      let newBpm = parseFloat(bpm) + parseFloat(increment)\n      if (newBpm > maxBpm) newBpm = maxBpm\n      if (newBpm < minBpm) newBpm = minBpm\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n    } // end automatic bpm increment\n\n// random mute\n    if (muteBars > 0 && muteProb > 0 && count === 0) {\n      if (muteCount === muteBars) {\n        muteStat = false\n        muteCount = 0\n      } else {\n        if (muteStat) {\n          muteCount++\n        } else if (Math.random() < parseFloat(muteProb)) {\n          muteStat = true\n          muteCount++\n        }\n      }\n    } // end random mute\n\n    let source = []\n    let master = 1.0\n\n    if (triplet) {\n      if (count % 3 !== 2) master = evenVol\n    } else {\n      if (count % 2 === 0) master = evenVol\n    }\n\n    if (currentPattern.type === 'drumkit') { // last note is always voice\n      for (let i = 0; i < currentPattern.pattern.length - 1; i++) {\n        const current = currentPattern.pattern[i]\n        if (current.values[count] === 0) continue\n\n        source[i] = context.createBufferSource()\n        source[i].buffer = sound[current.note]\n        source[i].connect(gainNode[i])\n        gainNode[i].connect(context.destination)\n        gainNode[i].gain.value =\n          master * parseInt(current.values[count], 10) / 9.0\n        source[i].start(deadline)\n      }\n    } // end drumkit\n\n    const lastIndex = currentPattern.pattern.length - 1\n\n    /* voice */\n    const current = currentPattern.pattern[lastIndex]\n    if (voiceOn && (current.note === 'voice') && (current.values[count] > 0)) {\n      source[lastIndex] = context.createBufferSource()\n      source[lastIndex].buffer = sound[voice + '_' + current.values[count]]\n      source[lastIndex].connect(gainNode[lastIndex])\n      gainNode[lastIndex].connect(context.destination)\n      if (!muteStat){\n        gainNode[lastIndex].gain.value = 0.5\n        source[lastIndex].start(deadline)\n      }\n    }\n\n    /* mute */\n    if (currentPattern.type === 'clicks') {\n      // console.log('clicks ' + metroSound)\n      for (let i = 0; i < lastIndex; i++) { source[i] = context.createBufferSource() }\n\n      if (metroSound === 'cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_higher']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_higher'] }\n      }\n      if (metroSound === 'cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_high'] }\n      }\n\n      if (metroSound === 'cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n\n      if (metroSound === 'cb4') {\n        source[0].buffer = sound['cowbell_low']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === 'cb5') {\n        source[0].buffer = sound['cowbell_lower']\n        source[1].buffer = sound['cowbell_lower']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '2cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_high'] }\n      }\n      if (metroSound === '2cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n      if (metroSound === '2cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === '2cb4') {\n        source[0].buffer = sound['cowbell_low']\n        source[1].buffer = sound['cowbell_lower']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '3cb1') {\n        source[0].buffer = sound['cowbell_higher']\n        source[1].buffer = sound['cowbell_high']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_mid'] }\n      }\n      if (metroSound === '3cb2') {\n        source[0].buffer = sound['cowbell_high']\n        source[1].buffer = sound['cowbell_mid']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_low'] }\n      }\n      if (metroSound === '3cb3') {\n        source[0].buffer = sound['cowbell_mid']\n        source[1].buffer = sound['cowbell_low']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['cowbell_lower'] }\n      }\n      if (metroSound === '1cg1') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['highConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['highConga'] }\n      }\n      if (metroSound === '1cg2') {\n        source[0].buffer = sound['midConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['midConga'] }\n      }\n      if (metroSound === '1cg3') {\n        source[0].buffer = sound['lowConga']\n        source[1].buffer = sound['lowConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === '2cg1') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['midConga'] }\n      }\n      if (metroSound === '2cg2') {\n        source[0].buffer = sound['midConga']\n        source[1].buffer = sound['lowConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === '3cg') {\n        source[0].buffer = sound['highConga']\n        source[1].buffer = sound['midConga']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['lowConga'] }\n      }\n      if (metroSound === 'cv') {\n        source[0].buffer = sound['clave']\n        source[1].buffer = sound['clave']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['clave'] }\n      }\n      if (metroSound === 'hc') {\n        source[0].buffer = sound['handClap']\n        source[1].buffer = sound['handClap']\n        if (lastIndex - 1 > 1) { source[lastIndex - 1].buffer = sound['handClap'] }\n      }\n\n      if (!muteStat) {\n        for (let i = 0; i < lastIndex; i++) {\n          let vol = parseInt(currentPattern.pattern[i].values[count], 10)\n          if (vol === 0) continue\n          source[i].connect(gainNode[i])\n          gainNode[i].connect(context.destination)\n          gainNode[i].gain.value = master * vol / 9.0\n          source[i].start(deadline)\n        }\n      } // end !muteStat\n    } // end clicks or drums\n\n    // next count\n    count = (count + 1) % numerator\n    if (count === 0) {\n      barCount++\n      if (this.state.restBars > 0) { this.setState({restBars: this.state.restBars - 1}) }\n    }\n    this.params.count = count\n    this.params.barCount = barCount\n    this.params.muteCount = muteCount\n    this.params.muteStat = muteStat\n\n    if (this.state.loopStat.playing && count === 0) { this.customPlay({target: {name: 'nextBar'}}) }\n  } // end playPattern\n\n  handleTimer (event) {\n    if (event.target.name === 'timer') {\n      this.params.timer = parseInt(event.target.value, 10)\n      this.setState({rest: this.params.timer})\n      return\n    }\n\n    if (event.target.name === 'barTimer') {\n      this.params.barTimer = parseInt(event.target.value, 10)\n      this.setState({restBars: this.params.barTimer})\n      return\n    }\n\n    if (event.target.name === 'startTimer' && this.params.timer > 0) {\n      this.timerEvent = timerClock.callbackAtTime(function (event) {\n        this.setState({rest: this.state.rest - 1})\n      }.bind(this), 1).repeat(1)\n\n      this.timeoutEvent = timerClock.setTimeout(function (event) {\n        this.startStopDrums({target: {name: 'stop'}})\n        this.setState({rest: this.params.timer})\n      }.bind(this), this.state.rest)\n\n      return\n    } // end startTimer\n\n    if (event.target.name === 'clearTimer' && this.params.timer > 0) {\n      if (this.timerEvent) this.timerEvent.clear()\n      if (this.timeoutEvent) this.timeoutEvent.clear()\n      return\n    } // end clearTimer\n\n    if (event.target.name === 'startBarTimer') {\n      return\n    }\n\n    if (event.target.name === 'clearBarTimer') {\n\n    }\n  } // end handleTimer()\n\n  handleMenu (event) {\n    if (event.target.name === 'language') {\n      if (this.state.ja === true) {\n        m = usText\n        this.setState({ja: false})\n      } else {\n        m = jaText\n        this.setState({ja: true})\n      }\n      return\n    }\n    if (event.target.name === 'showMore') {\n      this.setState({showMore: !this.state.showMore})\n      return\n    }\n\n    if (event.target.name === 'advancedUI') {\n      this.setState({showAdvanced: !this.state.showAdvanced})\n      return\n    }\n\n    if (event.target.name === 'drumsUI') {\n      this.setState({showDrums: !this.state.showDrums})\n      return\n    }\n\n    if (event.target.name === 'customLoopUI') {\n      this.setState({showCustomLoop: !this.state.showCustomLoop})\n      return\n    }\n\n    if (event.target.name === 'setListsUI') {\n      this.setState({showSetLists: !this.state.showSetLists})\n      return\n    }\n\n    if (event.target.name === 'songListUI') {\n      this.setState({showSongList: !this.state.showSongList})\n    }\n  } // end handleMenu()\n\n  handlePattern (event) {\n    if (event.target.name === 'metroOn') {\n      this.params.currentPattern =\n        loadedClickPatterns[this.state.clickPatternNo]\n      this.setState({metroOn: true, drumsOn: false})\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    }\n\n    if (event.target.name === 'metroSound') {\n      console.log(event.target.name)\n      this.setState({metroSound: event.target.value})\n      return\n    }\n\n    if (event.target.name === 'drumsOn') {\n      this.params.currentPattern = loadedDrumPatterns[this.state.drumPatternNo]\n      this.setState({metroOn: false, drumsOn: true})\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    }\n\n    if (event.target.name === 'voiceOn') {\n      this.setState({voiceOn: !this.state.voiceOn})\n      return\n    }\n\n    if (event.target.name === 'voice') {\n      this.setState({voice: event.target.value})\n      return\n    }\n\n // SongList operation\n    if (event.target.name === 'setBar') {\n      const current = event.target.value\n      this.params.currentPattern = current\n\n      if (current.triplet === undefined) {\n        this.params.triplet = false\n      } else this.params.triplet = current.triplet\n\n      if (current.swingVal === undefined) {\n        this.params.swing = false\n        current.swingVal = 1.5\n      } else this.params.swing = true\n      this.setState({swingVal: current.swingVal})\n\n      let num = this.findNumByName(current.name)\n      // console.log('NUM: ' + num)\n      if (num < 0) return\n      if (current.type === 'clicks') this.setState({clickPatternNo: num})\n      else if (current.type === 'drumkit') this.setState({drumPatternNo: num})\n\n      return\n    }\n\n    if ((event.target.name === 'drumPattern') ||\n       (event.target.name === 'clickPattern')) {\n      if (event.target.name === 'drumPattern') {\n        // console.log('drumPattern')\n        this.params.currentPattern =\n          loadedDrumPatterns[parseInt(event.target.value, 10)]\n        this.setState({drumsOn: true,\n          metroOn: false,\n          drumPatternNo: parseInt(event.target.value, 10)})\n      }\n\n      if (event.target.name === 'clickPattern') {\n        console.log('clickPattern: ' + event.target.value)\n        this.params.currentPattern =\n          loadedClickPatterns[parseInt(event.target.value, 10)]\n        this.setState({metroOn: true,\n          drumsOn: false,\n          clickPatternNo: parseInt(event.target.value, 10)})\n      }\n\n      if (this.params.currentPattern.triplet === undefined) {\n        this.params.triplet = false\n      } else this.params.triplet = this.params.currentPattern.triplet\n\n      if (this.params.currentPattern.swingVal === undefined) {\n        this.params.swing = false\n        this.params.currentPattern.swingVal = 1.5\n      } else this.params.swing = true\n\n      this.setState({swingVal: this.params.currentPattern.swingVal})\n      this.startStopDrums({target: {name: 'restart'}})\n    }\n  } // end handlePattern()\n\n  handleBpm (event) {\n    if (event.target.name === 'bpmFrac') {\n      let bpmFrac = parseInt(event.target.value, 10)\n      let newBpm = Math.floor(this.state.bpm) + 0.1 * bpmFrac\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpmStep') { // +-1\n      let newBpm = parseFloat(this.state.bpm, 10) +\n        parseInt(event.target.value, 10)\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpm_slider') { // slider\n      let newBpm = parseInt(event.target.value, 10) +\n        0.1 * parseInt(this.state.bpmFrac, 10)\n      this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n      return\n    }\n\n    if (event.target.name === 'bpm_set') { // actual process\n      // console.log('bpm_set: ' + event.target.value)\n      let newBpm = parseFloat(event.target.value, 10).toFixed(1)\n      if (this.state.playing) {\n        clock.timeStretch(context.currentTime, this.tickEvents,\n        this.state.bpm / newBpm)\n      }\n      this.setState(\n        {bpm: newBpm,\n          bpmFrac: Math.round(10 * (newBpm - Math.floor(newBpm)))}\n      )\n      return\n    } // end bpm_set\n\n//  Tempo tap: https://www.all8.com/tools/bpm.htm\n    if (event.target.name === 'tempo_tap') {\n      let timeSeconds = new Date()\n      let msecs = timeSeconds.getTime()\n\n      if ((msecs - this.tap.msecsPrevious) > 3000) { // timeout 3 sec\n        this.tap.count = 0\n      }\n\n      if (this.tap.count === 0) {\n        this.tap.msecsFirst = msecs\n        this.tap.count = 1\n      } else {\n        let newBpm = 60000 * this.tap.count / (msecs - this.tap.msecsFirst)\n        this.handleBpm({target: {name: 'bpm_set', value: newBpm.toFixed(1)}})\n        this.tap.count++\n      }\n      this.tap.msecsPrevious = msecs\n    }\n  } // end handleBpm()\n\n  handleAdvanced (event) {\n    if (event.target.name === 'increment') {\n      this.setState({increment: parseInt(event.target.value, 10)})\n      return\n    }\n\n    if (event.target.name === 'swing') {\n      if (event.target.value !== 15) {\n        let swingVal = parseFloat(event.target.value / 10, 10)\n        this.params.swing = true\n        this.setState({swingVal: swingVal})\n      } else {\n        this.params.swing = false\n        this.setState({swingVal: 1.5})\n      }\n\n      this.startStopDrums({target: {name: 'restart'}})\n      return\n    } // end swing\n\n    if (event.target.name === 'muteProb') {\n      this.setState({muteProb: parseFloat(event.target.value, 10).toFixed(1)})\n      return\n    }\n\n    if (event.target.name === 'perBars') {\n      this.setState({perBars: parseInt(event.target.value, 10)})\n      return\n    }\n\n    if (event.target.name === 'muteBars') {\n      this.setState({muteBars: parseInt(event.target.value, 10)})\n      return\n    }\n    if (event.target.name === 'evenVol') {\n      if (this.state.evenVol) { this.setState({evenVol: parseFloat(event.target.value)}) } else this.setState({evenVol: 1.0})\n    }\n  } // end handleAdvanced()\n\n  handleWindowClose (event) { // finishing clean up\n    this.startStopDrums({target: {name: 'stop'}})\n    this.saveSetLists()\n    clock.stop()\n    context.close()\n  }\n\n  findNumByName (name) {\n    for (let i = 0; i < loadedClickPatterns.length; i++) { if (loadedClickPatterns[i].name === name) return i }\n\n    for (let i = 0; i < loadedDrumPatterns.length; i++) { if (loadedDrumPatterns[i].name === name) return i }\n\n    return -1\n  }\n} // end App\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register () {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()\n"],"sourceRoot":""}