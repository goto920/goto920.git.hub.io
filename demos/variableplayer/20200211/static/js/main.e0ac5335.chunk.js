(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(5),r=a.n(i),o=(a(17),a(6)),s=a(7),c=a(9),u=a(8),d=a(1),h=a(10),m=(a(18),a(2)),p=a(3),S=(p.homepage+p.subversion).slice(-10);window.AudioContext=window.AudioContext||window.webkitAudioContext;var f=new window.AudioContext,y=f.createGain(),b=0,v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).params={audioBuffer:0},a.state={playSpeed:100,playPitch:0,playPitchSemi:0,playPitchCents:0,playVolume:70,startButtonStr:"Wait"},a.setState=a.setState.bind(Object(d.a)(a)),a.handleWindowClose=a.handleWindowClose.bind(Object(d.a)(a)),a.loadFile=a.loadFile.bind(Object(d.a)(a)),a.fetchFile=a.fetchFile.bind(Object(d.a)(a)),a.handleSpeedSlider=a.handleSpeedSlider.bind(Object(d.a)(a)),a.handlePitchSlider=a.handlePitchSlider.bind(Object(d.a)(a)),a.handleVolumeSlider=a.handleVolumeSlider.bind(Object(d.a)(a)),a.handlePlay=a.handlePlay.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleWindowClose",value:function(e){f.close()}},{key:"componentWillMount",value:function(){window.addEventListener("beforeClosing",this.handleWindowClose)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeClosing",this.handleWindowClose)}},{key:"render",value:function(){var e=this.loadFile,t=this.fetchFile,a=this.handleSpeedSlider,n=this.handlePitchSlider,i=this.handleVolumeSlider,r=this.handlePlay,o=this.state,s=o.playSpeed,c=o.playPitch,u=o.playPitchSemi,d=o.playPitchCents,h=o.playVolume,m=o.startButtonStr;return l.a.createElement("div",{className:"App"},"Variable speed/pitch audio player",l.a.createElement("br",null),"with soundtouchjs by KG",l.a.createElement("hr",null),"Input Audio (url or local file): ",l.a.createElement("br",null),l.a.createElement("span",{className:"selectFile"},l.a.createElement("input",{type:"file",name:"loadFile",accept:"audio/*",onChange:e}),l.a.createElement("br",null)),l.a.createElement("span",{className:"selectFile"},"URL and Enter ",l.a.createElement("input",{type:"url",name:"fetchFile",accept:"audio/*",onKeyPress:t})),l.a.createElement("hr",null),"Playback Speed(%): ",s," ",l.a.createElement("br",null),l.a.createElement("span",{className:"slider"},l.a.createElement("center",null,"025",l.a.createElement("input",{type:"range",name:"speedSlider",min:"25",max:"200",value:s,onChange:a}),"200")),l.a.createElement("hr",null),"Pitch (semi-tone): ",c," ",l.a.createElement("br",null),l.a.createElement("span",{className:"slider"},l.a.createElement("center",null,"-12",l.a.createElement("input",{type:"range",name:"pitchSliderSemi",min:"-12",max:"12",value:u,onChange:n}),"+12",l.a.createElement("br",null),"-100",l.a.createElement("input",{type:"range",name:"pitchSliderCents",min:"-100",max:"100",value:d,onChange:n}),"+100",l.a.createElement("br",null))),l.a.createElement("hr",null),"Volume: ",h,l.a.createElement("br",null),l.a.createElement("span",{className:"slider"},l.a.createElement("center",null,"000",l.a.createElement("input",{type:"range",name:"volumeSlider",min:"0",max:"150",value:h,onChange:i}),"150",l.a.createElement("br",null))),l.a.createElement("hr",null),l.a.createElement("span",null,l.a.createElement("button",{name:"startPause",onClick:r},m)," \xa0\xa0",l.a.createElement("button",{name:"rewind",onClick:r},"Rewind")," \xa0\xa0"),l.a.createElement("hr",null),"Version: ",S,", \xa0",l.a.createElement("a",{href:"https://goto920.github.io/demos/variableplayer/",target:"_blank",rel:"noopener noreferrer"},"Manual/Update"))}},{key:"loadFile",value:function(e){if("loadFile"===e.target.name&&0!==e.target.files.length){this.setState({totalTime:0}),this.setState({startButtonStr:"Wait"});var t=e.target.files[0],a=new FileReader;a.onload=function(e){f.decodeAudioData(a.result,function(e){(b=new m.a(f,e,1024)).tempo=this.state.playSpeed/100,b.pitch=Math.pow(2,this.state.playPitch/12),this.setState({startButtonStr:"Start",currentTime:0}),console.log("read")}.bind(this),function(e){console.log("Filereader error: "+e.err)})}.bind(this),a.readAsArrayBuffer(t)}}},{key:"fetchFile",value:function(e){var t=this;if("fetchFile"===e.target.name&&13===(e.keyCode||e.charCode)){var a=e.target.value;this.setState({startButtonStr:"Wait"}),b&&b.off(),console.log("fetchFile: "+a),fetch(a).then(function(e){return e.arrayBuffer()}).then(function(e){f.decodeAudioData(e,function(e){t.params.audioBuffer=e,(b=new m.a(f,e,1024)).tempo=t.state.playSpeed/100,b.pitch=Math.pow(2,t.state.playPitch/12),t.setState({startButtonStr:"Start",currentTime:0})})})}}},{key:"handleSpeedSlider",value:function(e){"speedSlider"===e.target.name&&(b&&(b.tempo=e.target.value/100),this.setState({playSpeed:e.target.value}))}},{key:"handlePitchSlider",value:function(e){var t;"pitchSliderSemi"===e.target.name&&(t=1*e.target.value+this.state.playPitchCents/100,this.setState({playPitchSemi:e.target.value})),"pitchSliderCents"===e.target.name&&(t=1*this.state.playPitchSemi+e.target.value/100,this.setState({playPitchCents:e.target.value})),b&&(b.pitch=Math.pow(2,t/12)),this.setState({playPitch:t})}},{key:"handleTimeSlider",value:function(e){e.target.name}},{key:"handleVolumeSlider",value:function(e){if("volumeSlider"===e.target.name){var t=1*e.target.value;y.gain.value=t/100,this.setState({playVolume:t})}}},{key:"handlePlay",value:function(e){if("startPause"===e.target.name)if("Start"===this.state.startButtonStr||"Resume"===this.state.startButtonStr)b.connect(y),y.connect(f.destination),this.setState({startButtonStr:"Pause"});else if("Pause"===this.state.startButtonStr){if(!b)return;b.disconnect(),this.setState({startButtonStr:"Resume"})}if("rewind"===e.target.name){if(!b)return;b.disconnect(),b.off(),b=0,(b=new m.a(f,this.params.audioBuffer,1024)).tempo=this.state.playSpeed/100,b.pitch=Math.pow(2,this.state.playPitch/12),this.setState({startButtonStr:"Start",currentTime:0})}"Save"===e.target.name&&b.disconnect()}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e){e.exports={name:"variablespeedplayer",version:"0.1.0",private:!0,homepage:"/demos/variableplayer/20190226",subversion:"00",dependencies:{react:"^16.8.3","react-dom":"^16.8.3","react-scripts":"2.1.5",soundtouchjs:"^0.1.4"},scripts:{start:"react-scripts start",build:"react-scripts build",test:"react-scripts test",eject:"react-scripts eject"},eslintConfig:{extends:"react-app"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}}},[[11,1,2]]]);
//# sourceMappingURL=main.e0ac5335.chunk.js.map